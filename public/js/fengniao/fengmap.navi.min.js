/*! Released Version 2.6.0,BUILD 344. Fengmap Javascript SDK, see: https://www.fengmap.com for details */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.navigation=e():t.navigation=e()}(this,function(){return(n=[function(t,e,n){t.exports=n(105)},function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(t,e,n){var g=n(3),v=n(1),y=n(70),_=n(14),m=n(11),b="prototype",w=function(t,e,n){var r,i,o,s=t&w.F,a=t&w.G,u=t&w.S,c=t&w.P,h=t&w.B,l=t&w.W,f=a?v:v[e]||(v[e]={}),p=f[b],d=a?g:u?g[e]:(g[e]||{})[b];for(r in a&&(n=e),n)i=!s&&d&&void 0!==d[r],i&&m(f,r)||(o=i?d[r]:n[r],f[r]=a&&"function"!=typeof d[r]?n[r]:h&&i?y(o,g):l&&d[r]==o?function(r){var t=function(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)};return t[b]=r[b],t}(o):c&&"function"==typeof o?y(Function.call,o):o,c&&((f.virtual||(f.virtual={}))[r]=o,t&w.R&&p&&!p[r]&&_(p,r,o)))};w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,e,n){t.exports=!n(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t){function e(t){return t&&t.__esModule?t:{default:t}}t.exports=e},function(t,e,n){var r=n(16);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(22),i=n(71),o=n(39),s=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,e,n){"use strict";var r=n(38),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var o=Object.create(n(26));o.inherits=n(20);var s=n(97),a=n(68);o.inherits(l,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var h=u[c];l.prototype[h]||(l.prototype[h]=a.prototype[h])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e,n){var r=n(9),i=n(27);t.exports=n(4)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=n(132)},function(t,e,n){var r=n(84),i=n(32);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(52)("wks"),i=n(34),o=n(3).Symbol,s="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))};a.store=r},function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,e,n){var r=n(15);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var o=n(12),s=n(43),a=n(29),u=n(45)("src"),r=n(110),i="toString",c=(""+r).split(i);n(42).inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,n,r){var i="function"==typeof n;i&&(a(n,"name")||s(n,"name",e)),t[e]!==n&&(i&&(a(n,u)||s(n,u,t[e]?""+t[e]:c.join(String(e)))),t===o?t[e]=n:r?t[e]?t[e]=n:s(t,e,n):(delete t[e],s(t,e,n)))})(Function.prototype,i,function(){return"function"==typeof this&&this[u]||r.call(this)})},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(46)("wks"),i=n(45),o=n(12).Symbol,s="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))};a.store=r},function(t,v,e){(function(t){function e(t){return Array.isArray?Array.isArray(t):"[object Array]"===g(t)}function n(t){return"boolean"==typeof t}function r(t){return null===t}function i(t){return null==t}function o(t){return"number"==typeof t}function s(t){return"string"==typeof t}function a(t){return"symbol"==typeof t}function u(t){return void 0===t}function c(t){return"[object RegExp]"===g(t)}function h(t){return"object"==typeof t&&null!==t}function l(t){return"[object Date]"===g(t)}function f(t){return"[object Error]"===g(t)||t instanceof Error}function p(t){return"function"==typeof t}function d(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function g(t){return Object.prototype.toString.call(t)}v.isArray=e,v.isBoolean=n,v.isNull=r,v.isNullOrUndefined=i,v.isNumber=o,v.isString=s,v.isSymbol=a,v.isUndefined=u,v.isRegExp=c,v.isObject=h,v.isDate=l,v.isError=f,v.isFunction=p,v.isPrimitive=d,v.isBuffer=t.isBuffer}).call(this,e(67).Buffer)},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(6),i=n(74),o=n(44),s=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,e,n){var r=n(83),i=n(53);t.exports=Object.keys||function(t){return r(t,i)}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t){t.exports=!0},function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(32);t.exports=function(t){return Object(r(t))}},function(t){var n,r,e=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function a(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var u,c=[],h=!1,l=-1;function f(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!h){var t=s(f);h=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,h=!1,a(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||h||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(){return[]},e.binding=function(){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){"use strict";(function(a){function t(t,e,n,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return a.nextTick(t);case 2:return a.nextTick(function(){t.call(null,e)});case 3:return a.nextTick(function(){t.call(null,e,n)});case 4:return a.nextTick(function(){t.call(null,e,n,r)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return a.nextTick(function(){t.apply(null,i)})}}void 0===a||!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?e.exports={nextTick:t}:e.exports=a}).call(this,n(37))},function(t,e,n){var i=n(15);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";n(73)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){var g=n(12),v=n(42),y=n(43),_=n(23),m=n(77),b="prototype",w=function(t,e,n){var r,i,o,s,a=t&w.F,u=t&w.G,c=t&w.S,h=t&w.P,l=t&w.B,f=u?g:c?g[e]||(g[e]={}):(g[e]||{})[b],p=u?v:v[e]||(v[e]={}),d=p[b]||(p[b]={});for(r in u&&(n=e),n)i=!a&&f&&void 0!==f[r],o=(i?f:n)[r],s=l&&i?m(o,g):h&&"function"==typeof o?m(Function.call,o):o,f&&_(f,r,o,t&w.U),p[r]!=o&&y(p,r,s),h&&d[r]!=o&&(d[r]=o)};g.core=v,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(t,e,n){var r=n(28),i=n(76);t.exports=n(7)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(16);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t,e,n){var r=n(42),i=n(12),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(111)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(122),i=n(24);t.exports=function(t){return r(i(t))}},function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}},function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}},function(t,e,n){var r=n(52)("keys"),i=n(34);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(1),i=n(3),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(33)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=e},function(t,e,n){var i=n(0);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}t.exports=o},function(t){t.exports={}},function(t,e,o){var r=o(22),i=o(88),s=o(53),a=o(51)("IE_PROTO"),u=function(){},c="prototype",h=function(){var t,e=o(72)("iframe"),n=s.length,r="<",i=">";for(e.style.display="none",o(145).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+i+"document.F=Object"+r+"/script"+i),t.close(),h=t.F;n--;)delete h[c][s[n]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=r(t),n=new u,u[c]=null,n[a]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(9).f,i=n(11),o=n(19)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){e.f=n(19)},function(t,e,n){var r=n(3),i=n(1),o=n(33),s=n(60),a=n(9).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){"use strict";var r,i,s=n(63),a=RegExp.prototype.exec,u=String.prototype.replace,o=a,c="lastIndex",h=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[c]||0!==i[c]),l=void 0!==/()??/.exec("")[1],f=h||l;f&&(o=function(t){var e,n,r,i,o=this;return l&&(n=new RegExp("^"+o.source+"$(?!\\s)",s.call(o))),h&&(e=o[c]),r=a.call(o,t),h&&r&&(o[c]=o.global?r.index+r[0].length:e),l&&r&&1<r.length&&u.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=o},function(t,e,n){"use strict";var r=n(6);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t){"use strict";var e,n="object"==typeof Reflect?Reflect:null,h=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};function u(t){console&&console.warn&&console.warn(t)}e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function c(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function s(t,e,n,r){var i,o,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(o=t._events,void 0===o?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=c(t),0<i&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,u(a)}return t}function a(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,h(this.listener,this.target,t))}function l(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=a.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?v(i):d(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function v(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(0<e.length&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)h(a,this,e);else{var u=a.length,c=d(a,u);for(n=0;n<u;++n)h(c[n],this,e)}return!0},i.prototype.addListener=function(t,e){return s(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return s(this,t,e,!0)},i.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,l(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,l(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,i,o,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(r=this._events,void 0===r)return this;if(n=r[t],void 0===n)return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():g(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)i=o[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],"function"==typeof e)this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;0<=r;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return f(this,t,!0)},i.prototype.rawListeners=function(t){return f(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return 0<this._eventsCount?e(this._events):[]}},function(t,e,n){e=t.exports=n(97),e.Stream=e,e.Readable=e,e.Writable=n(68),e.Duplex=n(13),e.Transform=n(101),e.PassThrough=n(204)},function(t,e,n){var r=n(67),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,tt,et){"use strict";(function(t){var r=et(194),o=et(195),s=et(196);function e(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function n(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=l.prototype):(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"!=typeof t)return i(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}function i(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,n,r):"string"==typeof e?f(t,e,n):g(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}function h(t,e){if(u(e),t=a(t,e<0?0:0|v(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|_(e,n);t=a(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function p(t,e){var n=e.length<0?0:0|v(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),l.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=l.prototype):t=p(t,e),t}function g(t,e){if(l.isBuffer(e)){var n=0|v(e.length);return t=a(t,n),0===t.length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?a(t,0):p(t,e);if("Buffer"===e.type&&s(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),l.alloc(+t)}function _(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(t).length;default:if(r)return X(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t=t||"utf8";;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return R(this,e,n);case"ascii":return L(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:x(t,e,n,r,i);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):x(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function x(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(a<n+u&&(n=a-u),o=n;0<=o;o--){for(var l=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){l=!1;break}if(l)return o}return-1}function M(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),i<r&&(r=i)):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function k(t,e,n,r){return $(X(e,t.length-n),t,n,r)}function T(t,e,n,r){return $(Z(e),t,n,r)}function S(t,e,n,r){return T(t,e,n,r)}function E(t,e,n,r){return $(J(e),t,n,r)}function D(t,e,n,r){return $(Q(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function R(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],h=null,l=239<c?4:223<c?3:191<c?2:1;if(i+l<=n)switch(l){case 1:c<128&&(h=c);break;case 2:o=t[i+1],128==(192&o)&&(u=(31&c)<<6|63&o,127<u&&(h=u));break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s,2047<u&&(u<55296||57343<u)&&(h=u));break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a,65535<u&&u<1114112&&(h=u))}null===h?(h=65533,l=1):65535<h&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=l}return I(r)}tt.Buffer=l,tt.SlowBuffer=y,tt.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:e(),tt.kMaxLength=n(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return i(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return c(null,t,e,n)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=l.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=_,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",e=tt.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,r,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=e)return 0;if(i<=r)return-1;if(n<=e)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,a=Math.min(o,s),u=this.slice(r,i),c=t.slice(e,n),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||i<n)&&(n=i),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o=!1;;)switch(r){case"hex":return M(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function I(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=P));return n}function L(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=e;o<n;++o)i+=H(t[o]);return i}function z(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function F(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(t,e,n,r,i){return i||B(t,e,n,4,34028234663852886e22,-34028234663852886e22),o.write(t,e,n,r,23,4),n+4}function V(t,e,n,r,i){return i||B(t,e,n,8,17976931348623157e292,-17976931348623157e292),o.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):r<t&&(t=r),e<0?(e+=r,e<0&&(e=0)):r<e&&(e=r),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=l.prototype;else{var i=e-t;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t+--e],i=1;0<e&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,i<=r&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=e,i=1,o=this[t+--r];0<r&&(i*=256);)o+=this[t+--r]*i;return i*=128,i<=o&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),o.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),o.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),o.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),o.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;N(this,t,e,n,i,0)}var o=1,s=0;for(this[e]=255&t;++s<n&&(o*=256);)this[e+s]=t/o&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;N(this,t,e,n,i,0)}var o=n-1,s=1;for(this[e+o]=255&t;0<=--o&&(s*=256);)this[e+o]=t/s&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;0<=--o&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return G(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return G(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(n=n||0,r||0===r||(r=this.length),e>=t.length&&(e=t.length),e=e||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;0<=i;--i)t[i+e]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t=t||0,"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=l.isBuffer(t)?t:X(new l(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function W(t){if(t=q(t).replace(Y,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function X(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if(n=t.charCodeAt(s),55295<n&&n<57344){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,n<128){if(--e<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Q(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function J(t){return r.toByteArray(W(t))}function $(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function K(t){return t!=t}}).call(this,et(21))},function(z,t,j){"use strict";(function(t,e,n){var s=j(38);function f(t){var e=this;this.next=null,this.entry=null,this.finish=function(){C(e,t)}}z.exports=_;var a,u=!t.browser&&-1<["v0.10","v0.9."].indexOf(t.version.slice(0,5))?e:s.nextTick;_.WritableState=y;var r=Object.create(j(26));r.inherits=j(20);var i={deprecate:j(202)},o=j(98),c=j(66).Buffer,h=n.Uint8Array||function(){};function l(t){return c.from(t)}function p(t){return c.isBuffer(t)||t instanceof h}var d,g=j(99);function v(){}function y(t,e){a=a||j(13),t=t||{};var n=e instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,i=t.writableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){S(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function _(t){if(a=a||j(13),!(d.call(_,this)||this instanceof a))return new _(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function m(t,e){var n=new Error("write after end");t.emit("error",n),s.nextTick(e,n)}function b(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),s.nextTick(r,o),i=!1),i}function w(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n)),e}function x(t,e,n,r,i,o){if(!n){var s=w(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else M(t,e,!1,a,r,i,o);return u}function M(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function k(t,e,n,r,i){--e.pendingcb,n?(s.nextTick(i,r),s.nextTick(L,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),L(t,e))}function T(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function S(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(T(n),e)k(t,n,r,e,i);else{var o=R(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(t,n),r?u(E,t,n,o,i):E(t,n,o,i)}}function E(t,e,n,r){n||D(t,e),e.pendingcb--,r(),L(t,e)}function D(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function A(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0,a=!0;n;)i[s]=n,n.isBuf||(a=!1),n=n.next,s+=1;i.allBuffers=a,M(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new f(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,h=n.callback,l=e.objectMode?1:u.length;if(M(t,e,!1,l,u,c,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function R(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function P(e,n){e._final(function(t){n.pendingcb--,t&&e.emit("error",t),n.prefinished=!0,e.emit("prefinish"),L(e,n)})}function I(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,s.nextTick(P,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function L(t,e){var n=R(e);return n&&(I(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function O(t,e,n){e.ending=!0,L(t,e),n&&(e.finished?s.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function C(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}r.inherits(_,o),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===_&&t&&t._writableState instanceof y}})):d=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(t,e,n){var r=this._writableState,i=!1,o=!r.objectMode&&p(t);return o&&!c.isBuffer(t)&&(t=l(t)),"function"==typeof e&&(n=e,e=null),e=o?"buffer":e||r.defaultEncoding,"function"!=typeof n&&(n=v),r.ended?m(this,n):(o||b(this,r,t,n))&&(r.pendingcb++,i=x(this,r,o,t,e,n)),i},_.prototype.cork=function(){var t=this._writableState;t.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||A(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||O(this,r,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,j(37),j(200).setImmediate,j(21))},function(t,e,n){"use strict";var r=n(0);r(e,"__esModule",{value:!0}),e._Math=void 0,n(212),n(214);var i={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var o=[],t=0;t<256;t++)o[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=o[255&t]+o[t>>8&255]+o[t>>16&255]+o[t>>24&255]+"-"+o[255&e]+o[e>>8&255]+"-"+o[e>>16&15|64]+o[e>>24&255]+"-"+o[63&n|128]+o[n>>8&255]+"-"+o[n>>16&255]+o[n>>24&255]+o[255&r]+o[r>>8&255]+o[r>>16&255]+o[r>>24&255];return i.toUpperCase()}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:n<=t?1:(t=(t-e)/(n-e),t*t*(3-2*t))},smootherstep:function(t,e,n){return t<=e?0:n<=t?1:(t=(t-e)/(n-e),t*t*t*(t*(6*t-15)+10))},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*i.DEG2RAD},radToDeg:function(t){return t*i.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};e._Math=i},function(t,e,n){var o=n(107);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e,n){t.exports=!n(4)&&!n(10)(function(){return 7!=Object.defineProperty(n(72)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(15),i=n(3).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(41),i=n(8),s=n(24),a=/"/g,o=function(t,e,n,r){var i=String(s(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),o+">"+i+"</"+e+">"};t.exports=function(e,t){var n={};n[e]=t(o),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},function(t,e,n){t.exports=!n(7)&&!n(8)(function(){return 7!=Object.defineProperty(n(75)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(16),i=n(12).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(78);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(121),i=n(76),o=n(47),s=n(44),a=n(29),u=n(74),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var s=n(29),a=n(47),u=n(124)(!1),c=n(82)("IE_PROTO");t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)n!=c&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){var r=n(48),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(46)("keys"),i=n(45);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var s=n(11),a=n(18),u=n(135)(!1),c=n(51)("IE_PROTO");t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)n!=c&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){var r=n(85);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,e,n){"use strict";var m=n(33),b=n(2),w=n(87),x=n(14),M=n(57),k=n(144),T=n(59),S=n(89),E=n(19)("iterator"),D=!([].keys&&"next"in[].keys()),A="@@iterator",R="keys",P="values",I=function(){return this};t.exports=function(t,e,n,r,i,o,s){k(n,e,r);var a,u,c,h=function(t){if(!D&&t in d)return d[t];switch(t){case R:case P:return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",f=i==P,p=!1,d=t.prototype,g=d[E]||d[A]||i&&d[i],v=g||h(i),y=i?f?h("entries"):v:void 0,_="Array"==e&&d.entries||g;if(_&&(c=S(_.call(new t)),c!==Object.prototype&&c.next&&(T(c,l,!0),m||"function"==typeof c[E]||x(c,E,I))),f&&g&&g.name!==P&&(p=!0,v=function(){return g.call(this)}),m&&!s||!D&&!p&&d[E]||x(d,E,v),M[e]=v,M[l]=I,i)if(a={values:f?v:h(P),keys:o?v:h(R),entries:y},s)for(u in a)u in d||w(d,u,a[u]);else b(b.P+b.F*(D||p),e,a);return a}},function(t,e,n){t.exports=n(14)},function(t,e,n){var s=n(9),a=n(22),u=n(31);t.exports=n(4)?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){var r=n(11),i=n(36),o=n(51)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(83),i=n(53).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(35),i=n(27),o=n(18),s=n(39),a=n(11),u=n(71),c=Object.getOwnPropertyDescriptor;e.f=n(4)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t){function e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=e},function(t,e,n){t.exports=n(165)},function(t,e,n){t.exports=n(177)},function(t){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(30),o=n(25)("toStringTag"),s="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(W,t,q){"use strict";(function(t,y){var _=q(38);W.exports=g;var s,r=q(193);g.ReadableState=d,q(64).EventEmitter;var m=function(t,e){return t.listeners(e).length},i=q(98),a=q(66).Buffer,e=t.Uint8Array||function(){};function u(t){return a.from(t)}function o(t){return a.isBuffer(t)||t instanceof e}var n=Object.create(q(26));n.inherits=q(20);var c=q(197),b=void 0;b=c&&c.debuglog?c.debuglog("stream"):function(){};var h,l=q(198),f=q(99);n.inherits(g,i);var p=["error","close","destroy","pause","resume"];function w(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?r(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function d(t,e){s=s||q(13),t=t||{};var n=e instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=t.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h=h||q(100).StringDecoder,this.decoder=new h(t.encoding),this.encoding=t.encoding)}function g(t){if(s=s||q(13),!(this instanceof g))return new g(t);this._readableState=new d(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),i.call(this)}function v(t,e,n,r,i){var o,s=t._readableState;return null===e?(s.reading=!1,D(t,s)):(i||(o=M(s,e)),o?t.emit("error",o):s.objectMode||e&&0<e.length?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=u(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):x(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?x(t,s,e,!1):P(t,s)):x(t,s,e,!1))):r||(s.reading=!1)),k(s)}function x(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&A(t)),P(t,e)}function M(t,e){var n;return o(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function k(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),g.prototype.destroy=f.destroy,g.prototype._undestroy=f.undestroy,g.prototype._destroy=function(t,e){this.push(null),e(t)},g.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=a.from(t,e),e=""),n=!0),v(this,t,e,!1,n)},g.prototype.unshift=function(t){return v(this,t,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(t){return h=h||q(100).StringDecoder,this._readableState.decoder=new h(t),this._readableState.encoding=t,this};var T=8388608;function S(t){return T<=t?t=T:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=S(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function D(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,A(t)}}function A(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(b("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?_.nextTick(R,t):R(t))}function R(t){b("emit readable"),t.emit("readable"),j(t)}function P(t,e){e.readingMore||(e.readingMore=!0,_.nextTick(I,t,e))}function I(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(b("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function L(e){return function(){var t=e._readableState;b("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&m(e,"data")&&(t.flowing=!0,j(e))}}function O(t){b("readable nexttick read 0"),t.read(0)}function C(t,e){e.resumeScheduled||(e.resumeScheduled=!0,_.nextTick(z,t,e))}function z(t,e){e.reading||(b("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),j(t),e.flowing&&!e.reading&&t.read(0)}function j(t){var e=t._readableState;for(b("flow",e.flowing);e.flowing&&null!==t.read(););}function N(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=F(t,e.buffer,e.decoder),n);var n}function F(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():(n?U:B)(t,e),r}function U(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),t-=s,0===t){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}function B(t,e){var n=a.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),t-=s,0===t){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}function G(t){var e=t._readableState;if(0<e.length)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,_.nextTick(V,e,t))}function V(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Y(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}g.prototype.read=function(t){b("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return b("read: emitReadable",e.length,e.ended),(0===e.length&&e.ended?G:A)(this),null;if(t=E(t,e),0===t&&e.ended)return 0===e.length&&G(this),null;var r,i=e.needReadable;return b("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,b("length less than watermark",i)),e.ended||e.reading?(i=!1,b("reading or ended",i)):i&&(b("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(n,e))),r=0<t?N(t,e):null,null===r?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&G(this)),null!==r&&this.emit("data",r),r},g.prototype._read=function(){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(n,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=n;break;case 1:i.pipes=[i.pipes,n];break;default:i.pipes.push(n)}i.pipesCount+=1,b("pipe count=%d opts=%j",i.pipesCount,t);var e=(!t||!1!==t.end)&&n!==y.stdout&&n!==y.stderr,o=e?a:v;function s(t,e){b("onunpipe"),t===r&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,h())}function a(){b("onend"),n.end()}i.endEmitted?_.nextTick(o):r.once("end",o),n.on("unpipe",s);var u=L(r);n.on("drain",u);var c=!1;function h(){b("cleanup"),n.removeListener("close",d),n.removeListener("finish",g),n.removeListener("drain",u),n.removeListener("error",p),n.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",v),r.removeListener("data",f),c=!0,!i.awaitDrain||n._writableState&&!n._writableState.needDrain||u()}var l=!1;function f(t){b("ondata"),l=!1;var e=n.write(t);!1!==e||l||((1===i.pipesCount&&i.pipes===n||1<i.pipesCount&&-1!==Y(i.pipes,n))&&!c&&(b("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function p(t){b("onerror",t),v(),n.removeListener("error",p),0===m(n,"error")&&n.emit("error",t)}function d(){n.removeListener("finish",g),v()}function g(){b("onfinish"),n.removeListener("close",d),v()}function v(){b("unpipe"),r.unpipe(n)}return r.on("data",f),w(n,"error",p),n.once("close",d),n.once("finish",g),n.emit("pipe",r),i.flowing||(b("pipe resume"),r.resume()),n},g.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=Y(e.pipes,t);return-1===s||(e.pipes.splice(s,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},g.prototype.on=function(t,e){var n=i.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&A(this):_.nextTick(O,this))}return n},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var t=this._readableState;return t.flowing||(b("resume"),t.flowing=!0,C(this,t)),this},g.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(n){var r=this,i=this._readableState,o=!1;for(var t in n.on("end",function(){if(b("wrapped end"),i.decoder&&!i.ended){var t=i.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),n.on("data",function(t){if(b("wrapped data"),i.decoder&&(t=i.decoder.write(t)),(!i.objectMode||null!=t)&&(i.objectMode||t&&t.length)){var e=r.push(t);e||(o=!0,n.pause())}}),n)void 0===this[t]&&"function"==typeof n[t]&&(this[t]=function(t){return function(){return n[t].apply(n,arguments)}}(t));for(var e=0;e<p.length;e++)n.on(p[e],this.emit.bind(this,p[e]));return this._read=function(t){b("wrapped _read",t),o&&(o=!1,n.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=N}).call(this,q(21),q(37))},function(t,e,n){t.exports=n(64).EventEmitter},function(t,e,n){"use strict";var o=n(38);function r(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||o.nextTick(s,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(o.nextTick(s,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(t,e){t.emit("error",e)}t.exports={destroy:r,undestroy:i}},function(t,e,n){"use strict";var r=n(203).Buffer,i=r.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function s(t){var e=o(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}function a(t){var e;switch(this.encoding=s(t),this.encoding){case"utf16le":this.text=d,this.end=g,e=4;break;case"utf8":this.fillLast=l,e=4;break;case"base64":this.text=v,this.end=y,e=3;break;default:return this.write=_,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function u(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function c(t,e,n){var r=e.length-1;if(r<n)return 0;var i=u(e[r]);return 0<=i?(0<i&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=u(e[r]),0<=i?(0<i&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=u(e[r]),0<=i?(0<i&&(2===i?i=0:t.lastNeed=i-3),i):0))}function h(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(1<t.lastNeed&&1<e.length){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(2<t.lastNeed&&2<e.length&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function l(t){var e=this.lastTotal-this.lastNeed,n=h(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function f(t,e){var n=c(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function p(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function d(t,e){if((t.length-e)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1);var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}function g(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function v(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function y(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function _(t){return t.toString(this.encoding)}function m(t){return t&&t.length?this.write(t):""}e.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},a.prototype.end=p,a.prototype.text=f,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=s;var r=n(13),i=Object.create(n(26));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var n=this;"function"==typeof this._flush?this._flush(function(t,e){u(n,t,e)}):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(20),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";var r=n(5),i=n(0);i(e,"__esModule",{value:!0}),e.Vector3=f,n(40);var o,s,a,u,c=r(n(17)),h=n(69),l=n(103);function f(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}(0,c.default)(f.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(u=new l.Quaternion,function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(u.setFromEuler(t))}),applyAxisAngle:(a=new l.Quaternion,function(t,e){return this.applyQuaternion(a.setFromAxisAngle(t,e))}),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,s=t.z,a=t.w,u=a*e+o*r-s*n,c=a*n+s*e-i*r,h=a*r+i*n-o*e,l=-i*e-o*n-s*r;return this.x=u*a+l*-i+c*-s-h*-o,this.y=c*a+l*-o+h*-i-u*-s,this.z=h*a+l*-s+u*-o-c*-i,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,s=e.y,a=e.z;return this.x=r*a-i*s,this.y=i*o-n*a,this.z=n*s-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(s=new f,function(t){return s.copy(this).projectOnVector(t),this.sub(s)}),reflect:(o=new f,function(t){return this.sub(o.copy(t).multiplyScalar(2*this.dot(t)))}),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(h._Math.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,n){var r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}})},function(t,e,n){"use strict";var r=n(5),i=n(0);i(e,"__esModule",{value:!0}),e.Quaternion=u;var o=r(n(215)),M=r(n(218)),s=r(n(17)),a=n(69);function u(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}(0,s.default)(u,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,s){var a=n[r+0],u=n[r+1],c=n[r+2],h=n[r+3],l=i[o+0],f=i[o+1],p=i[o+2],d=i[o+3];if(h!==d||a!==l||u!==f||c!==p){var g=1-s,v=a*l+u*f+c*p+h*d,y=0<=v?1:-1,_=1-v*v;if(_>M.default){var m=Math.sqrt(_),b=Math.atan2(m,v*y);g=Math.sin(g*b)/m,s=Math.sin(s*b)/m}var w=s*y;if(a=a*g+l*w,u=u*g+f*w,c=c*g+p*w,h=h*g+d*w,g===1-s){var x=1/Math.sqrt(a*a+u*u+c*c+h*h);a*=x,u*=x,c*=x,h*=x}}t[e]=a,t[e+1]=u,t[e+2]=c,t[e+3]=h}}),(0,o.default)(u.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}}),(0,s.default)(u.prototype,{isQuaternion:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,i=t._z,o=t.order,s=Math.cos,a=Math.sin,u=s(n/2),c=s(r/2),h=s(i/2),l=a(n/2),f=a(r/2),p=a(i/2);return"XYZ"===o?(this._x=l*c*h+u*f*p,this._y=u*f*h-l*c*p,this._z=u*c*p+l*f*h,this._w=u*c*h-l*f*p):"YXZ"===o?(this._x=l*c*h+u*f*p,this._y=u*f*h-l*c*p,this._z=u*c*p-l*f*h,this._w=u*c*h+l*f*p):"ZXY"===o?(this._x=l*c*h-u*f*p,this._y=u*f*h+l*c*p,this._z=u*c*p+l*f*h,this._w=u*c*h-l*f*p):"ZYX"===o?(this._x=l*c*h-u*f*p,this._y=u*f*h+l*c*p,this._z=u*c*p-l*f*h,this._w=u*c*h+l*f*p):"YZX"===o?(this._x=l*c*h+u*f*p,this._y=u*f*h+l*c*p,this._z=u*c*p-l*f*h,this._w=u*c*h-l*f*p):"XZY"===o&&(this._x=l*c*h-u*f*p,this._y=u*f*h-l*c*p,this._z=u*c*p+l*f*h,this._w=u*c*h+l*f*p),!1!==e&&this._onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],u=n[9],c=n[2],h=n[6],l=n[10],f=r+a+l;return 0<f?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(h-u)*e,this._y=(o-c)*e,this._z=(s-i)*e):a<r&&l<r?(e=2*Math.sqrt(1+r-a-l),this._w=(h-u)/e,this._x=.25*e,this._y=(i+s)/e,this._z=(o+c)/e):l<a?(e=2*Math.sqrt(1+a-r-l),this._w=(o-c)/e,this._x=(i+s)/e,this._y=.25*e,this._z=(u+h)/e):(e=2*Math.sqrt(1+l-r-a),this._w=(s-i)/e,this._x=(o+c)/e,this._y=(u+h)/e,this._z=.25*e),this._onChangeCallback(),this},setFromUnitVectors:function(t,e){var n=1e-6,r=t.dot(e)+1;return r<n?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0):(this._x=0,this._y=-t.z,this._z=t.y)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x),this._w=r,this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(a._Math.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var n=this.angleTo(t);if(0===n)return this;var r=Math.min(1,e/n);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,s=e._x,a=e._y,u=e._z,c=e._w;return this._x=n*c+o*s+r*u-i*a,this._y=r*c+o*a+i*s-n*u,this._z=i*c+o*u+n*a-r*s,this._w=o*c-n*s-r*a-i*u,this._onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,s=o*t._w+n*t._x+r*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),1<=s)return this._w=o,this._x=n,this._y=r,this._z=i,this;var a=1-s*s;if(a<=M.default){var u=1-e;return this._w=u*o+e*this._w,this._x=u*n+e*this._x,this._y=u*r+e*this._y,this._z=u*i+e*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(a),h=Math.atan2(c,s),l=Math.sin((1-e)*h)/c,f=Math.sin(e*h)/c;return this._w=o*l+this._w*f,this._x=n*l+this._x*f,this._y=r*l+this._y*f,this._z=i*l+this._z*f,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}})},function(t,e,n){"use strict";var r=n(5),i=n(0);i(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(108)),s=r(n(109)),a=r(n(210)),u=r(n(211)),c=n(102),h=n(69),l=n(221),f=n(103),p=window.fengmap||{},d={VERSION:o.default.VERSION,BUILD:o.default.BUILD,FMNavigation:s.default,FMNaviMode:a.default,FMNaviPriority:u.default};for(var g in d)d.hasOwnProperty(g)&&(p[g]=d[g]);window.fengmap=p,window.Geo=window.Geo||{Vector3:c.Vector3,_Math:h._Math,Matrix4:l.Matrix4,Quaternion:f.Quaternion};var v=p;e.default=v},function(t,e,n){n(106);var r=n(1).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(2);r(r.S+r.F*!n(4),"Object",{defineProperty:n(9).f})},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i={VERSION:"2.6.0",BUILD:344},o=i;e.default=o},function(t,e,n){"use strict";var r=n(5),i=n(0);i(e,"__esModule",{value:!0}),e.default=void 0,n(40);var u=r(n(112));n(114);var c=r(n(115));n(118);var O,h,o,s,l,a,C,p,f,d,g,v,y=r(n(17)),_=r(n(55)),m=r(n(56)),b=r(n(138)),w=r(n(160)),x=r(n(92)),M=r(n(168)),k=r(n(173));if(n(192),n(209),window.fengmap){var T={};window.fengmap,T=window.fengmap.inner||{},O=T.Graphics||{},h=T.FMSegment||{},o=T.FMNaviMode||{},s=T.FMNaviPriority||{},l=T.FMRouteCalcuResult||{},a=T.EventDispatcher||{},C=T.DataManager||{},p=T.FMUtil||{},f=T.FMImageMarker||{},d=T.FMLineMarker||{},g=T.FMLocationMarker||{},v=T.FMLanguageType||{}}var S=function(t){function n(t){var e;return(0,_.default)(this,n),e=(0,b.default)(this,(0,w.default)(n).call(this)),t.map&&t.scaleLevel&&!t.scale&&(t.scale=t.map.mapScaleLevels[t.scaleLevel]),t.map&&t.offsetHeight&&!t.lineMarkerHeight&&(t.lineMarkerHeight=t.offsetHeight),e.map=null,e.sceneData=null,e.speed=5,e.followSpeed=.2,e.followPosition=!0,e.followAngle=!1,e.locationMarkerFollowAngle=!0,e.isMultiGroups=!1,e.inTime=1.2,e.tiltAngle=80,e.changeGroupTiltAngle=30,e.scale=282,e.changeTiltAngle=!0,e.minScale=141,e.extendScale=1.3,e.locationMarkerUrl="",e.locationMarkerSize=100,e.locationMarkerHeight=3,e.lineMarkerHeight=1,e.imageMarkerHeight=6,e.directionAssert=10,e.combineAsset=5,e.completeDistance=0,e.naviLanguage=v.ZH,e.naviMode=o.MODULE_SHORTEST,e.naviPriority=s.PRIORITY_DEFAULT,e.autoRoute=!0,e.autoClearNaviLine=!0,e.lineStyle={lineWidth:10,radius:.5,dash:{size:4,gap:2}},e._passingPts={},e._passPtsEpson=1,e._failedInsertedPts={},(0,y.default)((0,x.default)(e),t),e._init(),e}return(0,M.default)(n,t),(0,m.default)(n,[{key:"_init",value:function(){this.map&&(this._analyser=new fengmap.FMNaviAnalyser,this._analyser.init(this.map),this._naviDescriptionsCalculator=new k.default({map:this.map,directionAssert:this.directionAssert,combineAsset:this.combineAsset,naviLanguage:this.naviLanguage,completeDistance:this.completeDistance})),this._simulateParams=null,this._startData=null,this._endData=null,this._startMarker=null,this._endMarker=null,this._startMarkerLayer=null,this._endMarkerLayer=null,this._locationMarker=null,this._naviLineMarkers=[],this._naviResults=[],this._naviDescriptions=[],this._naviDescriptionsData=[],this._naviDistance=0,this._naviGroupsDistance=null,this._naviEntracesDistance=[null,null],this._timer=new fm.Clock,this._pause=!1,this._toPos=null,this._toRot=null,this._allLen=0,this._preGid=0,this._locateLastGroupID=null,this._changeGrouping=!1,this._animateFun=null,this._isSimulating=!1,this._isEnd=!1,this._groupPointsIndex=0,this._gpsData=null,this._tiltToAnimater=null,this._scaleToAnimater=null,this._moveToAnimater=null,this._focusGroupToAnimater=null,this._passingPts={},this._failedInsertedPts={}}},{key:"on",value:function(t,e){this.addEventListener(t,e)}},{key:"off",value:function(t,e){this.removeEventListener(t,e)}},{key:"dispose",value:function(){this.stop(),this.map=null,this._analyser&&(this._analyser.dispose(),this._analyser=null),this._naviDescriptionsCalculator&&(this._naviDescriptionsCalculator.dispose(),this._naviDescriptionsCalculator=null)}},{key:"getRouteDescriptions",value:function(t,e){var n=t||this._naviResults;if(!this._isNaviResultsValide(n))return{};var r=(0,y.default)({},e);r.map||(r.map=this._map,r.analyser=this);var i=new k.default(r),o=i.calculate(n);return{naviDescriptions:o[0],naviDescriptionsData:o[1],naviDistance:o[2],naviGroupsDistance:o[3]}}},{key:"setLineStyle",value:function(t){this._naviLineMarker&&this._naviLineMarker.updateStyle(t),this.lineStyle=t}},{key:"setNaviLanguage",value:function(t){if(!t||"string"!=typeof t)return!1;var e=t.toLowerCase();if(e!=v.ZH&&e!=v.EN)return!1;if(this.naviLanguage!=e&&(this.naviLanguage=e,this._naviDescriptionsCalculator&&(this._naviDescriptionsCalculator.naviLanguage=e),0<this._naviResults.length)){var n=this._naviDescriptionsCalculator.calculate(this._naviResults);this._naviDescriptions=n[0],this._naviDescriptionsData=n[1]}return!0}},{key:"setStartPoint",value:function(t,e){this._startData=(0,y.default)({},this._startData,t,{x:t.x,y:t.y,groupID:t.groupID});var n=null;return t.url&&!e&&(n=this._createMarker(t,!0)),this.autoRoute&&(this._getNaviResult(),this._needDrawLines=!0),n}},{key:"setEndPoint",value:function(t,e){this._endData=t;var n=null;return!t.url||t.noMarker||e||(n=this._createMarker(t,!1)),this.autoRoute&&(this._getNaviResult(),this._needDrawLines=!0),n}},{key:"route",value:function(t,e){this._getNaviResult(t,e),this._needDrawLines=!0}},{key:"naviConstraint",value:function(t){if(this._startData&&this._endData){var e={index:-1,coord:{groupID:t.groupID},angle:null,distance:Number.MAX_VALUE,distanceToNext:Number.MAX_VALUE,remain:this._naviDistance},n=this._analyse().map(function(t){return{x:t.x,y:t.z,z:0,groupID:t.gid,index:t._index}}),r=this._analyser._navi._graphs.get(t.groupID);if(r){for(var i=r.queryContainExtentId(t),o={},s=1;s<n.length;s++){var a=n[s-1],u=n[s];if(a.groupID===t.groupID&&u.groupID===t.groupID&&i==r.queryContainExtentId(a)){var c=O.pointDistanceToLine(t,a,u,o);c<e.distance&&(e.distance=c,(0,y.default)(e.coord,o),e.angle=this._getRouteAngle(a,u),e.index=a.index,e.distanceToNext=O.distanceOfTwoPoints(o,u))}}if(-1==e.index)for(var h=0;h<n.length;h++){var l=n[h];if(l.groupID==t.groupID&&i==r.queryContainExtentId(l)){var f=O.distanceOfTwoPoints(t,l);f<e.distance&&(e.distance=f,(0,y.default)(e.coord,l),e.index=l.index,e.distanceToNext=0,n[h+1]&&n[h+1].groupID==t.groupID&&(e.distanceToNext=O.distanceOfTwoPoints(t,n[h+1])))}}if(-1!=e.index){for(var p=0,d=n.length-1;d>e.index;d--)if(d-1>e.index){var g=n[d],v=n[d-1];g.groupID==v.groupID&&(p+=O.distanceOfTwoPoints(g,v))}n[e.index+1]&&n[e.index+1].groupID==e.coord.groupID&&(p+=O.distanceOfTwoPoints(n[e.index+1],e.coord)),e.remain=p}return e}}}},{key:"pathConstraint",value:function(t){return this._analyser?this._analyser.pathConstraint(t):null}},{key:"locate",value:function(t,e){this._isSimulating&&this.stop(),t.groupID||t.groupId&&(t.groupID=t.groupId),t.groupID!=this._locateLastGroupID&&(this._locateLastGroupID=t.groupID),this.locateWalking(t,e)}},{key:"dropPtsByCicle",value:function(t){var e=[];for(var n in this._passingPts)if(n==t.groupID)for(var r=0;r<this._passingPts[n].length;r++){var i=this._passingPts[n][r],o=Math.pow(i[0]-t.x,2),s=Math.pow(i[1]-t.y,2),a=Math.sqrt(o+s);a<this._passPtsEpson&&(e.push(i),this._passingPts[n].splice(r,1),r--)}return e}},{key:"locateWalking",value:function(t,e){var n=this.dropPtsByCicle(t),r=this.naviConstraint(t);if(r){var i={type:"walking",distance:r.distance,remain:r.remain,walk:this._naviDistance-r.remain,distanceToNext:r.distanceToNext,angle:r.angle,point:r.coord,groupID:t.groupID,index:r.index,isReal:!0,noArrivedPassingPts:this.passingPts};0<n.length&&(i.passing=n),this.dispatchEvent(i),this._locationMarker&&(r.coord.height=this.locationMarkerHeight,this._locationMarker.setPosition(r.coord),e?this._locationMarker.rotate(e):this._locationMarker.rotate(r.angle))}}},{key:"locateNoConstraint",value:function(t,e){this._isSimulating&&this.stop(),t.groupID||t.groupId&&(t.groupID=t.groupId),t.groupID!=this._locateLastGroupID&&(this._locateLastGroupID=t.groupID),this.locateWalkingNoConstraint(t,e)}},{key:"locateWalkingNoConstraint",value:function(t,e){var n=this.naviConstraint(t);n&&(this.dispatchEvent({type:"walking",distance:n.distance,remain:n.remain,walk:this._naviDistance-n.remain,distanceToNext:n.distanceToNext,angle:n.angle,point:n.coord,groupID:t.groupID,index:n.index,isReal:!0}),this._locationMarker&&(t.height=this.locationMarkerHeight,this._locationMarker.setPosition(t),e&&this._locationMarker.rotate(e)))}},{key:"clearLocationMarker",value:function(){this._locationMarker&&(this.map.removeLocationMarker(this._locationMarker),this._locationMarker=null)}},{key:"clearMarkers",value:function(){this._startMarker&&(this._startMarkerLayer.removeMarker(this._startMarker),this._startMarkerLayer=null,this._startMarker=null,this._startData=null),this._endMarker&&(this._endMarkerLayer.removeMarker(this._endMarker),this._endMarkerLayer=null,this._endMarker=null,this._endData=null)}},{key:"drawNaviLine",value:function(){if(this._startData&&this._endData)return this._needDrawLines=!1,this.autoClearNaviLine&&this.clearNaviLines(),this._naviLineMarker=this._drawLines(this._naviResults),this._naviLineMarker}},{key:"clearNaviLine",value:function(){this._naviLineMarker&&(this.map.removeLineMarker(this._naviLineMarker),this._naviLineMarker=null)}},{key:"clearNaviLines",value:function(){for(var t=0;t<this._naviLineMarkers.length;t++)this.map.removeLineMarker(this._naviLineMarkers[t]),this._naviLineMarkers[t]=null;this._naviLineMarkers=[]}},{key:"focusNaviLineSegment",value:function(t,e){var n,r,i=this,o=null,s=null,a=null;if(this._naviDescriptionsData&&t<this._naviDescriptionsData.length){var u=this._naviDescriptionsData[t];s=u.startPoint,a=u.endPoint,a=a||s,n=u.startGID,r=u.endGID,s.z=this.map.getFMGroup(n).height,a.z=this.map.getFMGroup(r).height,o={x:(s.x+a.x)/2,y:(s.y+a.y)/2,z:a.z}}o&&(e=e||{},e.rawLevel=!0,this._moveTo({x:o.x,y:o.y,groupID:r},this._getValueOrDefault(e,"time","duration",this.inTime),null,function(){if(s&&a){var t=i.map.getScaleValueByVectics(s,a);!(0,c.default)(t)&&0<t&&(t*=e.extendScale||i.extendScale,i._scaleTo(t,i._getValueOrDefault(e,"time","duration",i.inTime),null,e.callback))}}))}},{key:"clearAll",value:function(){this.clearMarkers(),this.clearNaviLine(),this.clearLocationMarker()}},{key:"simulate",value:function(t){var e=this;if(this._startData&&this._endData&&0!=this._naviResults.length){var n=t||{};this._simulateParams=(0,y.default)({},n);var r=n.inTime||this.inTime;n.scale=n.scale||this.scale||0,this._locationMarker||this._initLocationMarker(),this._locationMarkerToStartPoint(),this._needDrawLines&&this.drawNaviLine(),this.followPosition?this._focusGroupToAnimater=this._focusGroupTo(this._startData.groupID,r,null,function(){e._moveToAnimater=e._moveTo(e._startData,r,null,function(){var t=n.scale<e.minScale?e.minScale:n.scale;e.changeTiltAngle?e._tiltToAnimater=e._tiltTo(e.tiltAngle,r,null,function(){e._scaleToAnimater=e._scaleTo(t,r,null,function(){e._works()})}):e._scaleToAnimater=e._scaleTo(t,r,null,function(){e._works()})})}):this._works()}}},{key:"pause",value:function(){this._tiltToAnimater&&this._tiltToAnimater.pause(),this._scaleToAnimater&&this._scaleToAnimater.pause(),this._moveToAnimater&&this._moveToAnimater.pause(),this._focusGroupToAnimater&&this._focusGroupToAnimater.pause(),this._pause=!0}},{key:"resume",value:function(){this._tiltToAnimater&&this._tiltToAnimater.resume(),this._scaleToAnimater&&this._scaleToAnimater.resume(),this._moveToAnimater&&this._moveToAnimater.resume(),this._focusGroupToAnimater&&this._focusGroupToAnimater.resume(),this._pause=!1}},{key:"stop",value:function(){this._gpsStop=!0,this._timer.stop(),this._tiltToAnimater&&(this.map.removeAnimater(this._tiltToAnimater),this._tiltToAnimater=null),this._scaleToAnimater&&(this.map.removeAnimater(this._scaleToAnimater),this._scaleToAnimater=null),this._moveToAnimater&&(this.map.removeAnimater(this._moveToAnimater),this._moveToAnimater=null),this._focusGroupToAnimater&&(this.map.removeAnimater(this._focusGroupToAnimater),this._focusGroupToAnimater=null),this._animateFun&&this.map.off("update",this._animateFun),this._pause=!1,this._toPos=null,this._toRot=null,this._allLen=0,this._preGid=0,this._changeGrouping=!1,this._animateFun=null,this._isSimulating=!1,this._isEnd=!1,this._groupPointsIndex=0,this._gpsData=null}},{key:"_initLocationMarker",value:function(){this._locationMarker||(this._locationMarker=new g({id:"location",map:this.map,url:this.locationMarkerUrl||"",size:this.locationMarkerSize}),this.map.addLocationMarker(this._locationMarker))}},{key:"_getValueOrDefault",value:function(t){for(var e,n=arguments.length<=1?0:arguments.length-1,r=0;r<n;r++){var i=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];if(t[i])return t[i]}return e=(arguments.length<=1?0:arguments.length-1)-1+1,e<1||arguments.length<=e?void 0:arguments[e]}},{key:"_isNaviGroup",value:function(t){if(this._startData&&this._endData)return t==this._startData.groupID||t==this._endData.groupID}},{key:"_createMarker",value:function(t,e){if(t.groupID){var n=t.url?t.url:e?"image/small/marker/nav_location_start.png":"image/small/marker/nav_location_end.png",r=e?this._startMarkerLayer:this._endMarkerLayer,i=e?this._startMarker:this._endMarker,o="number"==typeof t.height?t.height:this.imageMarkerHeight;return r&&i&&r.removeMarker(i),r&&r.groupID==t.groupID||(r=this.map.getFMGroup(t.groupID).getOrCreateLayer("imageMarker")),i=new f({x:t.x,y:t.y,map:this.map,url:n,height:o,size:t.size||64,anchor:t.anchor,callback:function(){t.callback&&t.callback(i)}}),r.addMarker(i),e?(this._startMarker=i,this._startMarkerLayer=r):(this._endMarker=i,this._endMarkerLayer=r),i}}},{key:"_getGroupsPoints",value:function(){for(var t=this._naviResults,e=[],n=null,r=null,i=0;i<t.length;i++){var o=t[i],s=n==o.groupId;0==o.length&&0!=i&&i!=t.length-1||(s||(n=o.groupId,r&&e.push(r),r={groupId:o.groupId,pointList:[]}),r.pointList=r.pointList.concat(o.pointList))}return r&&e.push(r),this._groupsPoints=e,e}},{key:"_addZeroResult",value:function(t){for(var e=0;e<t.length-1;e++){var n=t[e];if(n.length){var r=n.pointList[n.pointList.length-1],i=t[e+1].pointList[0];.2<O.distanceOfTwoPoints(r,i)&&n.pointList.push((0,y.default)({},i))}}}},{key:"_getNaviResult",value:function(t,e){if(this._startData&&this._endData){this._naviResults=this._caculateLines(this._startData,this._endData,this._startData.groupID,this._endData.groupID,t,e),this._addZeroResult(this._naviResults),this._getGroupsPoints();var n=this._naviDescriptionsCalculator.calculate(this._naviResults);this._naviDescriptions=n[0],this._naviDescriptionsData=n[1],this._naviDistance=n[2],this._naviGroupsDistance=n[3],this._naviEntracesDistance[1]=this._calcEntraceDistance(this._naviResults,this._endData,!0),this._endData.url&&!this._endData.noMarker&&this._createMarker(this._endData,!1)}}},{key:"_calcEntraceDistance",value:function(t,e,n){if(!this.map||!t||!e.groupID)return null;if(!this.map.getCurrDecodeData().floors[e.groupID])return null;var r=this.map.getCurrDecodeData().floors[e.groupID].geo[0].modelLayer,i=this.map.getFMGroup(e.groupID).getLayer("model")._models,o=null;for(var s in i){var a=i[s];if(a&&a._data&&(o=a._data.vertices),null==o){var u=r[s-1];o=1===this.map.dataManager.file_ver?C.convertGeo2Geometry(u.geo).vertices:C.convertArray2Geometry(u.idxs,u.pts)}if(O.pointInPolygonVector2d(o,e,o.length))break}if(!o)return null;for(var c=[],h=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],l=0;l<o.length/2;l++){var f=2*l,p=o[f],d=o[f+1];h[0]>p&&(h[0]=p),h[1]<p&&(h[1]=p),h[2]>d&&(h[2]=d),h[3]<d&&(h[3]=d),c.push({x:p,y:d})}for(var g=[],v=0;v<t.length;v++)if(t[v].groupId==e.groupID){for(var y=[],_=0;_<t[v].pointList.length;_++)y.push(t[v].pointList[_]);g.push(y)}if(n){for(var m=0;m<g.length;m++)g[m].reverse();g.reverse()}for(var b=null,w=null,x=null,M=0;M<g.length;M++){for(var k=g[M],T=!1,S=0;S<k.length-1;S++){var E=k[S],D=k[S+1],A=O.calcLinePolygonCrossPoints2d(E,D,c,h);if(A){w=k,x=S,b=A.crossPoints[S],T=!0;break}}if(T)break}if(!w)return null;for(var R=0,P=0;P<=x;P++){var I=w[P],L=w[P+1];R+=P!=x?O.distanceOfTwoPoints(I,L):O.distanceOfTwoPoints(I,b)}return R}},{key:"_drawLines",value:function(s){var a=this;if(0==s.length)return null;for(var u=new d,t=function(t){var e=s[t],n=e.getPointList();if(0==n.length)return"continue";var r=e.groupId,i=[];n.forEach(function(t){i.push({x:t.x,y:t.y,z:a.lineMarkerHeight})}),n.length<2&&i.push({x:n[0].x,y:n[0].y,z:a.lineMarkerHeight});var o=new h;o.groupId=r,o.points=i,u.addSegment(o)},e=0;e<s.length;e++)t(e);return this.map.drawLineMark(u,this.lineStyle),this._naviLineMarkers.push(u),u}},{key:"_caculateLines",value:function(t,e,n,r,i,o){if("{}"!=(0,u.default)(this._passingPts)){this._analyser.passPts=this._passingPts,this._analyser.routePassingPoints({x:t.x,y:t.y,groupID:n},{x:e.x,y:e.y,groupID:r});var s=this._analyser.getNaviResults();return this._failedInsertedPts=this._analyser.losedPoints,0==s.length?[]:(this.naviToDoor&&(this._endData.x=this._analyser._endDoor.x,this._endData.y=this._analyser._endDoor.y),s)}if(this._analyser.analyzeNavi(n,t,r,e,i||this.naviMode,o||this.naviPriority)!=l.ROUTE_SUCCESS)return[];var a=this._analyser.getNaviResults();return 0==a.length?[]:(this.naviToDoor&&(this._endData.x=this._analyser._endDoor.x,this._endData.y=this._analyser._endDoor.y),a)}},{key:"_locationMarkerToStartPoint",value:function(){this._startData&&this._locationMarker.setPosition({x:this._startData.x,y:this._startData.y,height:this.locationMarkerHeight,groupID:this._startData.groupID})}},{key:"_moveTo",value:function(t,e,n,r){return this.map._moveTo({x:t.x,y:t.y,time:"number"==typeof e?e:0,groupID:t.groupID,update:n,callback:r},!0)}},{key:"_tiltTo",value:function(t,e,n,r){return this.map.tiltTo({to:t,duration:"number"==typeof e?e:0,update:n,callback:r})}},{key:"_rotateTo",value:function(t,e,n,r){return this.map.rotateTo({to:t,duration:"number"==typeof e?e:0,update:n,callback:r})}},{key:"_scaleTo",value:function(t,e,n,r){return this.map.scaleTo({scale:t,duration:"number"==typeof e?e:0,update:n,callback:r},!0)}},{key:"_focusGroupTo",value:function(t,e,n,r){return this.map.visibleGroupIDs=[t],n&&n(),this.map.focusGroupID==t?(r&&r(),null):this.map.changeFocusToGroup({gid:t,duration:"number"==typeof e?e:0,update:n,callback:function(){r&&r()}})}},{key:"_getRouteAngle",value:function(t,e){var n=new Geo.Vector3(0,1,0),r=new Geo.Vector3(t.x,t.y,0),i=new Geo.Vector3(e.x,e.y,0),o=i.clone().sub(r).normalize(),s=o.angleTo(n)*Geo._Math.RAD2DEG,a=o.cross(n).z<0;return a?360-s:s}},{key:"_getTransformByLength",value:function(t,e){if(0==e)return t[0];for(var n,r,i,o=0,s=0,a=t[0],u=1;u<t.length;u++)if(n=t[u],n.gid==a.gid){if(r=n.clone().sub(a),i=r.length(),o+=i,e<=o){r.normalize();var c=a.clone().add(r.clone().multiplyScalar(e-s));return c.gid=n.gid,c.index=n._index,c}a=n.clone(),a.gid=n.gid,a.index=n._index,s=o}else a=n;var h=t[t.length-1];return h.index=h._index,h}},{key:"_analyse",value:function(){if(!this._startData||!this._endData||!this._naviDescriptionsData||0==this._naviDescriptionsData.length)return[];var r=-1,t=this._naviDescriptionsData.map(function(t,e){var n=new Geo.Vector3(t.startPoint.x,0,t.startPoint.y);return n.gid=t.startGID,n._index=e,r=e,n}),e=this._naviDescriptionsData[this._naviDescriptionsData.length-1],n=new Geo.Vector3(e.endPoint.x,0,e.endPoint.y);return n.gid=e.endGID,n._index=r+1,t.push(n),t}},{key:"_follow",value:function(t,e){var n=this,r=this._simulateParams,i=r.inTime||this.inTime;r.scale=r.scale||this.scale||0;var o=r.scale<this.minScale?this.minScale:r.scale;if(!this.isMultiGroups){var s={x:this._locationMarker.x,y:this._locationMarker.y,height:this._locationMarker.height,groupID:t.gid},a=this._groupsPoints[this._groupPointsIndex];a&&a.pointList&&0<a.pointList.length&&(s=(0,y.default)(s,a.pointList[0])),this._locationMarker.setPosition(s),this._locationMarker._renderNode.visible=!0}this.changeTiltAngle&&(this._tiltToAnimater=this._tiltTo(this.tiltAngle,i,null,null)),this._moveToAnimater=this._moveTo(e,i,null,function(){n._scaleToAnimater=n._scaleTo(o,i,null,function(){n._changeGrouping=!1})})}},{key:"_gpsAnimate",value:function(t){var e=this;if(this._gpsStop||requestAnimationFrame(this._gpsAnimate.bind(this,t)),!this._isEnd&&(t.cnt++,t.cnt==t.step)){t.cnt=0;var n=this._timer.getDelta();if(!this._changeGrouping&&!this._pause&&(this._allLen+=this.speed*n,0!=this._allLen)){var r=(0,y.default)({},this._getTransformByLength(t.ps,this._allLen)),i=this._naviDistance-this._allLen,o=r.y;if(r.y=r.z,r.z=o,r.groupID=r.gid,this._gpsData={distance:0,remain:i,walk:this._allLen,point:r,groupID:r.gid,index:r.index-1},this._toPos=(0,y.default)({},r),!r||i<=this._naviDescriptionsCalculator.tailLen)this._isEnd=!0;else if(this._preGid||(this._preGid=t.ps[0].gid),this._isSimulating){if(this._preGid!=r.gid){this._preGid=r.gid,this._groupPointsIndex++;var s={x:r.x,y:r.y,groupID:r.gid};if(this.followPosition){var a=this._simulateParams,u=a.inTime||this.inTime;a.scale=a.scale||this.scale||0;var c=a.scale<this.minScale?this.minScale:a.scale;this._changeGrouping=!0,this.changeTiltAngle&&(this._tiltToAnimater=this._tiltTo(this.changeGroupTiltAngle,u,null,null)),this._focusGroupToAnimater=this._focusGroupTo(s.groupID,u,null,function(){e._scaleToAnimater=e._scaleTo(c,u,null,function(){e._locationMarker._renderNode.visible=!1,e.locationMarker.setPosition({x:s.x,y:s.y,height:e.locationMarkerHeight,groupID:s.groupID}),e._moveTo(s,u,null,function(){e.changeTiltAngle?e._tiltToAnimater=e._tiltTo(e.tiltAngle,u,null,function(){e._follow(r,s)}):e._follow(r,s)})})})}this.dispatchEvent({type:"crossGroup",groupId:r.gid})}var h=p.toSceneCoord(this.map,this._toPos);h.y=0;var l=this._locationMarker._renderNode.position.clone();l.y=0;var f=new Geo.Matrix4;f.lookAt(l,h,this._locationMarker._renderNode.up),this._toRot=this.locationMarkerFollowAngle?(new Geo.Quaternion).setFromRotationMatrix(f):null}}}}},{key:"_gps",value:function(){this._gpsStop=!1;var t=this._analyse();this._timer.start(),this._isSimulating=!0,this._isEnd=!1,this._groupPointsIndex=0;var e={step:2,cnt:0,ps:t};this._gpsAnimate(e)}},{key:"_animate",value:function(){if(!this._changeGrouping&&!this._pause){if(this._toPos){var t=new Geo.Vector3(this._locationMarker.x,this._locationMarker.y,0),e=t.lerp(this._toPos,this.followSpeed);e.groupID=this._toPos.gid;var n=O.distanceOfTwoPoints(e,this._toPos);this._locationMarker.setPosition({x:e.x,y:e.y,height:this.locationMarkerHeight,groupID:e.groupID});var r=this.naviConstraint(e);if(this.dispatchEvent((0,y.default)({},this._gpsData,{type:"walking",distance:r.distance,remain:r.remain,walk:this._naviDistance-r.remain,distanceToNext:r.distanceToNext,angle:r.angle,point:r.coord,groupID:e.groupID,index:r.index,isReal:!1})),this.followPosition?(e.groupID=e.gid,this._moveToAnimater=this._moveTo(e)):this.map.updateCountDown_=0,this._isEnd&&n<.5)return this.stop(),void this.dispatchEvent({type:"complete"})}if(this._toRot){if(this._locationMarker._renderNode.quaternion.slerp(this._toRot,this.followSpeed),!this.followAngle)return;var i=new Geo.Vector3(1,0,0),o=i.clone(),s=this._locationMarker._renderNode.matrix.clone();s.setPosition(new Geo.Vector3),o.applyMatrix4(s);var a=o.clone().cross(i);a=a.y<0?-1:1;var u=i.angleTo(o),c=Math.PI-u*a;c+=Math.PI,this.map.controls.setUpdate(null,null,null,c)}}}},{key:"_works",value:function(){this._gps(),this._animateFun=this._animate.bind(this),this.map.on("update",this._animateFun)}},{key:"naviToDoor",set:function(t){this._analyser.naviToDoor=t},get:function(){return this._analyser.naviToDoor}},{key:"locationMarker",set:function(t){t instanceof g&&(this._locationMarker=t,this.map.addLocationMarker(this._locationMarker))},get:function(){return this._locationMarker||(this._locationMarker=new g({id:"location",map:this.map,url:this.locationMarkerUrl||"",size:this.locationMarkerSize}),this.map.addLocationMarker(this._locationMarker)),this._locationMarker}},{key:"startMarker",set:function(t){this._startMarker=t},get:function(){return this._startMarker}},{key:"endMarker",set:function(t){this._endMarker=t},get:function(){return this._endMarker}},{key:"naviDescriptions",get:function(){return this._naviDescriptions}},{key:"naviDescriptionsData",get:function(){return this._naviDescriptionsData}},{key:"naviDistance",get:function(){return this._naviDistance}},{key:"naviGroupsDistance",get:function(){return this._naviGroupsDistance}},{key:"naviEntrancesDistance",get:function(){return this._naviEntracesDistance}},{key:"nearDist",get:function(){return this._passPtsEpson},set:function(t){this._passPtsEpson=t}},{key:"passingPts",set:function(t){this._passingPts=t},get:function(){return this._passingPts}},{key:"losedPts",get:function(){return this._failedInsertedPts}}]),n}(a),E=S;e.default=E},function(t,e,n){t.exports=n(46)("native-function-to-string",Function.toString)},function(t){t.exports=!1},function(t,e,n){t.exports=n(113)},function(t,e,n){var r=n(1),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){"use strict";n(73)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(t,e,n){t.exports=n(116)},function(t,e,n){n(117),t.exports=n(1).Number.isNaN},function(t,e,n){var r=n(2);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){"use strict";var r=n(12),i=n(29),o=n(30),s=n(119),h=n(44),a=n(8),u=n(123).f,c=n(79).f,l=n(28).f,f=n(126).trim,p="Number",d=r[p],g=d,v=d.prototype,y=o(n(128)(v))==p,_="trim"in String.prototype,m=function(t){var e=h(t,!1);if("string"==typeof e&&2<e.length){e=_?e.trim():f(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,a=e.slice(2),u=0,c=a.length;u<c;u++)if(s=a.charCodeAt(u),s<48||i<s)return NaN;return parseInt(a,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(y?a(function(){v.valueOf.call(n)}):o(n)!=p)?s(new g(m(e)),n,d):m(e)};for(var b,w=n(7)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(g,b=w[x])&&!i(d,b)&&l(d,b,c(g,b));d.prototype=v,v.constructor=d,n(23)(r,p,d)}},function(t,e,n){var o=n(16),s=n(120).set;t.exports=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&o(r)&&s&&s(t,r),t}},function(t,e,i){var n=i(16),r=i(6),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=i(77)(Function.call,i(79).f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(30);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(80),i=n(49).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var u=n(47),c=n(81),h=n(125);t.exports=function(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=h(n,o);if(a&&e!=e){for(;s<o;)if(r=i[s++],r!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}},function(t,e,n){var r=n(48),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var s=n(41),r=n(24),a=n(8),u=n(127),i="["+u+"]",c="​",o=RegExp("^"+i+i+"*"),h=RegExp(i+i+"*$"),l=function(t,e,n){var r={},i=a(function(){return!!u[t]()||c[t]()!=c}),o=r[t]=i?e(f):u[t];n&&(r[n]=o),s(s.P+s.F*i,"String",r)},f=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(o,"")),2&e&&(t=t.replace(h,"")),t};t.exports=l},function(t){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,o){var r=o(6),i=o(129),s=o(49),a=o(82)("IE_PROTO"),u=function(){},c="prototype",h=function(){var t,e=o(75)("iframe"),n=s.length,r="<",i=">";for(e.style.display="none",o(131).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+i+"document.F=Object"+r+"/script"+i),t.close(),h=t.F;n--;)delete h[c][s[n]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=r(t),n=new u,u[c]=null,n[a]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e,n){var s=n(28),a=n(6),u=n(130);t.exports=n(7)?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){var r=n(80),i=n(49);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(12).document;t.exports=r&&r.documentElement},function(t,e,n){n(133),t.exports=n(1).Object.assign},function(t,e,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(134)})},function(t,e,n){"use strict";var l=n(4),f=n(31),p=n(54),d=n(35),g=n(36),v=n(84),i=Object.assign;t.exports=!i||n(10)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=i({},t)[n]||Object.keys(i({},e)).join("")!=r})?function(t){for(var e=g(t),n=arguments.length,r=1,i=p.f,o=d.f;r<n;)for(var s,a=v(arguments[r++]),u=i?f(a).concat(i(a)):f(a),c=u.length,h=0;h<c;)s=u[h++],l&&!o.call(a,s)||(e[s]=a[s]);return e}:i},function(t,e,n){var u=n(18),c=n(136),h=n(137);t.exports=function(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=h(n,o);if(a&&e!=e){for(;s<o;)if(r=i[s++],r!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}},function(t,e,n){var r=n(50),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(50),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(139),i=n(92);function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}t.exports=o},function(e,t,n){var r=n(140),i=n(150);function o(t){return e.exports=o="function"==typeof i&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t},o(t)}e.exports=o},function(t,e,n){t.exports=n(141)},function(t,e,n){n(142),n(146),t.exports=n(60).f("iterator")},function(t,e,n){"use strict";var r=n(143)(!0);n(86)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var u=n(50),c=n(32);t.exports=function(a){return function(t,e){var n,r,i=String(c(t)),o=u(e),s=i.length;return o<0||s<=o?a?"":void 0:(n=i.charCodeAt(o),n<55296||56319<n||o+1===s||(r=i.charCodeAt(o+1))<56320||57343<r?a?i.charAt(o):n:a?i.slice(o,o+2):r-56320+(n-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(58),i=n(27),o=n(59),s={};n(14)(s,n(19)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){n(147);for(var r=n(3),i=n(14),o=n(57),s=n(19)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],h=r[c],l=h&&h.prototype;l&&!l[s]&&i(l,s,c),o[c]=o.Array}},function(t,e,n){"use strict";var r=n(148),i=n(149),o=n(57),s=n(18);t.exports=n(86)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t){t.exports=function(){}},function(t){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports=n(151)},function(t,e,n){n(152),n(157),n(158),n(159),t.exports=n(1).Symbol},function(t,e,n){"use strict";var r=n(3),s=n(11),i=n(4),o=n(2),a=n(87),u=n(153).KEY,c=n(10),h=n(52),l=n(59),f=n(34),p=n(19),d=n(60),g=n(61),v=n(154),y=n(155),_=n(22),m=n(15),b=n(36),w=n(18),x=n(39),M=n(27),k=n(58),T=n(156),S=n(91),E=n(54),D=n(9),A=n(31),R=S.f,P=D.f,I=T.f,L=r.Symbol,O=r.JSON,C=O&&O.stringify,z="prototype",j=p("_hidden"),N=p("toPrimitive"),F={}.propertyIsEnumerable,U=h("symbol-registry"),B=h("symbols"),G=h("op-symbols"),V=Object[z],Y="function"==typeof L&&!!E.f,W=r.QObject,q=!W||!W[z]||!W[z].findChild,H=i&&c(function(){return 7!=k(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=R(V,e);r&&delete V[e],P(t,e,n),r&&t!==V&&P(V,e,r)}:P,X=function(t){var e=B[t]=k(L[z]);return e._k=t,e},Z=Y&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Q=function(t,e,n){return t===V&&Q(G,e,n),_(t),e=x(e,!0),_(n),s(B,e)?(n.enumerable?(s(t,j)&&t[j][e]&&(t[j][e]=!1),n=k(n,{enumerable:M(0,!1)})):(s(t,j)||P(t,j,M(1,{})),t[j][e]=!0),H(t,e,n)):P(t,e,n)},J=function(t,e){_(t);for(var n,r=v(e=w(e)),i=0,o=r.length;i<o;)Q(t,n=r[i++],e[n]);return t},$=function(t,e){return void 0===e?k(t):J(k(t),e)},K=function(t){var e=F.call(this,t=x(t,!0));return!(this===V&&s(B,t)&&!s(G,t))&&(!(e||!s(this,t)||!s(B,t)||s(this,j)&&this[j][t])||e)},tt=function(t,e){if(t=w(t),e=x(e,!0),t!==V||!s(B,e)||s(G,e)){var n=R(t,e);return!n||!s(B,e)||s(t,j)&&t[j][e]||(n.enumerable=!0),n}},et=function(t){for(var e,n=I(w(t)),r=[],i=0;n.length>i;)s(B,e=n[i++])||e==j||e==u||r.push(e);return r},nt=function(t){for(var e,n=t===V,r=I(n?G:w(t)),i=[],o=0;r.length>o;)!s(B,e=r[o++])||n&&!s(V,e)||i.push(B[e]);return i};Y||(L=function(t){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=f(0<arguments.length?t:void 0),n=function(t){this===V&&n.call(G,t),s(this,j)&&s(this[j],e)&&(this[j][e]=!1),H(this,e,M(1,t))};return i&&q&&H(V,e,{configurable:!0,set:n}),X(e)},a(L[z],"toString",function(){return this._k}),S.f=tt,D.f=Q,n(90).f=T.f=et,n(35).f=K,E.f=nt,i&&!n(33)&&a(V,"propertyIsEnumerable",K,!0),d.f=function(t){return X(p(t))}),o(o.G+o.W+o.F*!Y,{Symbol:L});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;rt.length>it;)p(rt[it++]);for(var ot=A(p.store),st=0;ot.length>st;)g(ot[st++]);o(o.S+o.F*!Y,"Symbol",{for:function(t){return s(U,t+="")?U[t]:U[t]=L(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),o(o.S+o.F*!Y,"Object",{create:$,defineProperty:Q,defineProperties:J,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var at=c(function(){E.f(1)});o(o.S+o.F*at,"Object",{getOwnPropertySymbols:function(t){return E.f(b(t))}}),O&&o(o.S+o.F*(!Y||c(function(){var t=L();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;i<arguments.length;)r.push(arguments[i++]);if(n=e=r[1],(m(e)||void 0!==t)&&!Z(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Z(e))return e}),r[1]=e,C.apply(O,r)}}),L[z][N]||n(14)(L[z],N,L[z].valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(34)("meta"),i=n(15),o=n(11),s=n(9).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(10)(function(){return u(Object.preventExtensions({}))}),h=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[r].w},p=function(t){return c&&d.NEED&&u(t)&&!o(t,r)&&h(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:f,onFreeze:p}},function(t,e,n){var a=n(31),u=n(54),c=n(35);t.exports=function(t){var e=a(t),n=u.f;if(n)for(var r,i=n(t),o=c.f,s=0;i.length>s;)o.call(t,r=i[s++])&&e.push(r);return e}},function(t,e,n){var r=n(85);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(18),i=n(90).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):i(r(t))}},function(){},function(t,e,n){n(61)("asyncIterator")},function(t,e,n){n(61)("observable")},function(e,t,n){var r=n(161),i=n(93);function o(t){return e.exports=o=i?r:function(t){return t.__proto__||r(t)},o(t)}e.exports=o},function(t,e,n){t.exports=n(162)},function(t,e,n){n(163),t.exports=n(1).Object.getPrototypeOf},function(t,e,n){var r=n(36),i=n(89);n(164)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var i=n(2),o=n(1),s=n(10);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],r={};r[t]=e(n),i(i.S+i.F*s(function(){n(1)}),"Object",r)}},function(t,e,n){n(166),t.exports=n(1).Object.setPrototypeOf},function(t,e,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(167).set})},function(t,e,i){var n=i(15),r=i(22),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=i(70)(Function.call,i(91).f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},function(t,e,n){var r=n(169),i=n(172);function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}t.exports=o},function(t,e,n){t.exports=n(170)},function(t,e,n){n(171);var r=n(1).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(2);r(r.S,"Object",{create:n(58)})},function(n,t,e){var r=e(93);function i(t,e){return n.exports=i=r||function(t,e){return t.__proto__=e,t},i(t,e)}n.exports=i},function(t,e,n){"use strict";var r=n(5),i=n(0);i(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(174));n(40);var s=r(n(94)),o=r(n(17)),u=r(n(55)),c=r(n(56)),h=r(n(181)),l=r(n(182)),f=r(n(183)),p=function(){function e(t){(0,u.default)(this,e),this.directionAssert=10,this.combineAsset=5,this.naviLanguage=l.default.ZH,this.completeDistance=0,this.map=null,this.combinePoints=[],this.dirArr=["north","northeast","east","southeast","south","southwest","west","northwest","north"],this.dirArr2=["front_pure","right_front_pure","right_pure","right_back_pure","back_pure","left_back_pure","left_pure","left_front_pure","front_pure"],this.dirArr3=["still_go_straight","right_front","turn_right","turn_right_rear","back_to","turn_left_rear","turn_left","left_front","still_go_straight"],this._boo=!1,this._tailLen=0,(0,o.default)(this,t)}return(0,c.default)(e,[{key:"dispose",value:function(){this.map=null}},{key:"calculate",value:function(t){return this._calculate(t)}},{key:"_getNs",value:function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]._nodeList);return e}},{key:"_getField",value:function(t,e){var n=Math.PI/4,r=t/n,i=(0,s.default)(r),o=r%1*n;return i%2==0?e<o&&(i+=1):n-e<=o&&(i+=1),i}},{key:"_getAngle",value:function(t,e){var n=e.angleTo(t),r=new Geo.Vector3(e.x,e.z,e.y).cross(new Geo.Vector3(t.x,t.z,t.y));return r.z<0&&(n=2*Math.PI-n),n}},{key:"_getDirection",value:function(t,e){if(e==t.length-1)return{index:t[t.length-1].index};var n=new Geo.Vector3(0,0,1),r=n;0!=e&&(r=t[e].clone().sub(t[e-1]).normalize(),r.y=0,r.z*=-1);var i=t[e+1].clone().sub(t[e]);i.y=0;var o=i.length(),s=i.normalize();s.z*=-1;var a=this._getField(this._getAngle(n,s),22.5*Geo._Math.DEG2RAD),u=this._getAngle(r,s),c=this._getField(u,this.directionAssert*Geo._Math.DEG2RAD);return{relField:c,relDesc:this._getDescribeWord(this.dirArr2[c]),relAngle:u*Geo._Math.RAD2DEG,absField:a,absDesc:this._getDescribeWord(this.dirArr[a]),distance:o,index:t[e].index}}},{key:"_regularPoints",value:function(t,e){for(var r=this,n=t.map(function(t,e){var n;return n=r.map?f.default.toSceneCoord(r.map,t):f.default.toSceneCoord({center:{x:r.analyser.sceneData.scene.x,y:r.analyser.sceneData.scene.y}},t),n.index=e,n}),i=[],o=0;o<n.length;o++){var s=this._getDirection(n,o);s.point=t[o],s.groupID=e,i.push(s)}for(var a=[i[0]],u=1;u<i.length;u++)i[u].relAngle<=this.combineAsset||360-i[u].relAngle<=this.combineAsset?a[a.length-1].distance+=i[u].distance:a.push(i[u]);return a}},{key:"_getGroupDes",value:function(t){var e="";if(null!=this.map.getFMGroup(t)){var n=this.map.getFMGroup(t);e=this.naviLanguage==l.default.ZH?n._groupMessage.desc:n._groupMessage.gname.toUpperCase()}return e}},{key:"_getDesc",value:function(t,e,n,r,i){var o=t[e],s=t[e+1],a=this._getDescribeWord(this.dirArr3[s.relField]);if(this._boo=e==t.length-3&&s.distance<this.completeDistance,!a||this._boo)if(r){if(this._boo=!1,!a){var u=this._getLadderType(t[e+1].point,n,i),c=n<r?this._getDescribeWord("up_to"):this._getDescribeWord("down_to"),h=this._getGroupDes(r);a=this._getDescribeWord("take")+u+" "+c+" "+h}}else this._boo&&(this._tailLen=s.distance),a=this._getDescribeWord("arrived");return 0==e?2==t.length?this._getDescribeWord("face_to")+" "+o.absDesc+" "+this._getDescribeWord("straight")+" "+Math.ceil(o.distance)+" "+this._getDescribeWord("meter")+" "+a:this._getDescribeWord("face_to")+" "+o.absDesc+" "+this._getDescribeWord("straight")+" "+Math.ceil(o.distance)+" "+this._getDescribeWord("meter")+" "+this._getDescribeWord(this.dirArr3[t[e+1].relField]):this._getDescribeWord("straight")+" "+Math.ceil(o.distance+(this._boo&&!r?s.distance:0))+" "+this._getDescribeWord("meter")+" "+a}},{key:"_getDescData",value:function(t,e,n,r){var i=t[e],o=t[e+1],s=this._getDescribeWord(this.dirArr3[t[e+1].relField]);if(!s||this._boo)if(r){var a=n<r?this._getDescribeWord("up"):this._getDescribeWord("down");this._getGroupDes(r),o.relDesc=a}else o.relDesc="终";return{startPoint:i.point,startGID:i.groupID,startIndex:i.index,endPoint:o.point,endGID:o.groupID,endIndex:o.index,startDirection:i.absDesc,endDirection:o.relDesc,distance:i.distance+(this._boo&&!r?o.distance:0)}}},{key:"_getLadderType",value:function(t,e,n){t.z=this.map.getFMGroup(e).height;for(var r=a.default,i=-1,o=0;o<n.length;o++)if(n[o]){var s=Math.pow(n[o].point.x-t.x,2)+Math.pow(n[o].point.y-t.y,2);s<r&&(r=s,i=n[o].liftType)}if(-1!=i)switch(i){case 2:return" "+this._getDescribeWord("stair_pure");case 3:return" "+this._getDescribeWord("escalator_pure");case 1:return" "+this._getDescribeWord("lift_pure")}return this._getDescribeWord("stair")}},{key:"_getDescribeWord",value:function(t){var e=h.default[this.naviLanguage][t];return e||""}},{key:"_calculate",value:function(t){this.combinePoints=[];for(var e=[],n=[],r=null,i=null,o=null,s=null,a=0,u=[],c=!1,h=null,l=null,f=this._getNs(t),p=0;p<t.length;p++){if(o=t[p],r=o.groupId,i=null,p<t.length-1)for(var d=p;d<t.length;d++)if(t[d].groupId!=r){i=t[d].groupId;break}s=o.pointList;var g=this._regularPoints(s,r);if(1<g.length&&(this.combinePoints=this.combinePoints.concat(g)),1==g.length){if(i||c){if(c)n.length&&(p==t.length-1&&(e[e.length-1]+=" "+this._getDescribeWord("arrived"),n[n.length-1].endDirection=this._getDescribeWord("end")),n[n.length-1].endPoint=s[0],n[n.length-1].endGID=r);else if(h==r||null==h){var v=r<i?this._getDescribeWord("up_to"):this._getDescribeWord("down_to"),y=this._getGroupDes(i);l=this._getDescribeWord("take_stair")+" "+v+" "+y,e.push(l),n.push({startPoint:s[0],startDirection:r<i?this._getDescribeWord("up"):this._getDescribeWord("down"),startGID:r})}c=!c}}else{h=r;for(var _=0;_<g.length-1&&!this._boo;_++)e.push(this._getDesc(g,_,r,i,f)),n.push(this._getDescData(g,_,r,i))}if(1<g.length){var m=g.reduce(function(t,e){return t+(e.distance||0)},0);u.push({groupID:r,distance:m}),a+=m}}return[e,n,a,u]}},{key:"tailLen",get:function(){return this._tailLen}}]),e}(),d=p;e.default=d},function(t,e,n){t.exports=n(175)},function(t,e,n){n(176),t.exports=9007199254740991},function(t,e,n){var r=n(2);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(178),t.exports=n(1).parseInt},function(t,e,n){var r=n(2),i=n(179);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(3).parseInt,i=n(180).trim,o=n(95),s=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(s.test(n)?16:10))}:r},function(t,e,n){var s=n(2),r=n(32),a=n(10),u=n(95),i="["+u+"]",c="​",o=RegExp("^"+i+i+"*"),h=RegExp(i+i+"*$"),l=function(t,e,n){var r={},i=a(function(){return!!u[t]()||c[t]()!=c}),o=r[t]=i?e(f):u[t];n&&(r[n]=o),s(s.P+s.F*i,"String",r)},f=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(o,"")),2&e&&(t=t.replace(h,"")),t};t.exports=l},function(t,e,n){"use strict";var r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i={zh:{straight:"直行",still_go_straight:"继续直行",back_to:"后退",turn_right:"右转",turn_left:"左转",right_front:"右前方 继续直行",left_front:"左前方 继续直行",turn_right_rear:"右后方转",turn_left_rear:"左后方转",up:"上",down:"下",up_to:"上行到达",down_to:"下行到达",meter:"米",arrived:"到达目的地",front:"前方",stair:"楼梯",stair_pure:"楼梯",escalator_pure:"扶梯",lift_pure:"直梯",take:"乘",take_stair:"乘梯",front_pure:"前",right_front_pure:"右前",right_pure:"右",right_back_pure:"右后",back_pure:"后",left_back_pure:"左后",left_pure:"左",left_front_pure:"左前",east:"东",west:"西",south:"南",north:"北",southeast:"东南",northeast:"东北",southwest:"西南",northwest:"西北",face_to:"向",start:"起",end:"终"},en:{straight:"go straight",still_go_straight:"go straight",back_to:"back to",turn_right:"turn right",turn_left:"turn left",right_front:"go straight right front ",left_front:"go straight left front ",turn_right_rear:"turn right rear",turn_left_rear:"turn left rear",up:"up",down:"up",up_to:"up to",down_to:"down to",meter:"meter",arrived:"arrived",front:"front",stair:"stair",stair_pure:"stair",escalator_pure:"escalator",lift_pure:"lift",take:"take",take_stair:"take stair",front_pure:"front",right_front_pure:"right front",right_pure:"right",right_back_pure:"right back",back_pure:"back",left_back_pure:"left back",left_pure:"left",left_front_pure:"left front",east:"east",west:"west",south:"south",north:"north",southeast:"southeast",northeast:"northeast",southwest:"southwest",northwest:"northwest",face_to:"face to",start:"start",end:"end"}};e.default=i},function(t,e,n){"use strict";var r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i={ZH:"zh",EN:"en",CHN:"zh"},o=i;e.default=o},function(t,e,n){"use strict";var r=n(5),i=n(0);i(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(94));n(184);var s=r(n(55)),a=r(n(56)),u=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"toColor",value:function(t){if("number"==typeof t)return t;var e=t.split(",");return 3<=e.length?(0,o.default)(e[0])<<16|(0,o.default)(e[1])<<8|(0,o.default)(e[2]):(console.error("color format error",t),0)}},{key:"toRgba",value:function(t){if("number"==typeof t)return"rgba("+(0,o.default)(255*new fm.Color(t).r)+","+(0,o.default)(255*new fm.Color(t).g)+","+(0,o.default)(255*new fm.Color(t).b)+",1)";var e=t.split(",");return 3<=e.length?"rgba("+(0,o.default)(e[0])+","+(0,o.default)(e[1])+","+(0,o.default)(e[2])+",1)":t}},{key:"bindEvent",value:function(t,o,e,s){t.addEventListener(e,function(t){var e=t||window.event,n=e.target||e.srcElement,r=e.currentTarget;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n});n!==r;){if(n.matches(o)){var i=n;s.call(i,e)}n=n.parentNode}})}},{key:"toSceneCoord",value:function(t,e){var n=0;return e.groupID&&(n=t.getFMGroup(e.groupID).height),new fm.Vector3(e.x-t.center.x,t.center.y+n,-e.y+t.center.y)}},{key:"removeFormArray",value:function(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}},{key:"scrollTopAnFun",value:function(){var g,v=!1;return function e(n){var r=n.el,i=n.to,t=n.form,o=(n.time,i<t?"up":"bottom"),s=t<i?i-t:i==t?0:t-i,a=10,u=s/a,c=0,h=function(t){var e=t.val,n=t.nbak,r=t.n,i=t.elTop;return"up"==o?i+(n-r)*e:i-(n-r)*e};function l(){g=0,window.setTimeout(function(){var t=Object(n,{to:r.scrollTop});v=!1,e(t)},a+1)}var f=function(){v=!1,g=!1,0==t&&(r.scrollTop=0)},p=function t(){if(g--,g<=0)f();else{var e=function(){!1!==g&&(c=h({val:a,nbak:u,n:g,elTop:i,VDIRECTIONE:o}),c&&(r.scrollTop=c),t())};window.setTimeout(e,a)}};function d(){v?l():(v=!0,g=u,p())}d()}}},{key:"toVector",value:function(t){return t.hasOwnProperty("z")?new fm.Vector3(t.x,t.y,t.z):new fm.Vector2(t.x,t.y)}},{key:"sleep",value:function(t){for(var e=(new Date).getTime(),n=0;n<1e7&&!((new Date).getTime()-e>t);n++);}}]),t}(),c=u;e.default=c},function(t,e,n){"use strict";var l=n(185),m=n(6),b=n(186),w=n(187),x=n(81),M=n(189),f=n(62),r=n(8),k=Math.min,p=[].push,s="split",d="length",g="lastIndex",T=4294967295,S=!r(function(){RegExp(T,"y")});n(190)("split",2,function(i,o,v,y){var _;return _="c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[d]||2!="ab"[s](/(?:ab)*/)[d]||4!="."[s](/(.?)(.?)/)[d]||1<"."[s](/()()/)[d]||""[s](/.?/)[d]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!l(t))return v.call(n,t,e);for(var r,i,o,s=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,c=void 0===e?T:e>>>0,h=new RegExp(t.source,a+"g");(r=f.call(h,n))&&(i=h[g],!(u<i&&(s.push(n.slice(u,r.index)),1<r[d]&&r.index<n[d]&&p.apply(s,r.slice(1)),o=r[0][d],u=i,s[d]>=c)));)h[g]===r.index&&h[g]++;return u===n[d]?!o&&h.test("")||s.push(""):s.push(n.slice(u)),s[d]>c?s.slice(0,c):s}:"0"[s](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:v.call(this,t,e)}:v,[function(t,e){var n=i(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):_.call(String(n),t,e)},function(t,e){var n=y(_,t,this,e,_!==v);if(n.done)return n.value;var r=m(t),i=String(this),o=b(r,RegExp),s=r.unicode,a=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(S?"y":"g"),u=new o(S?r:"^(?:"+r.source+")",a),c=void 0===e?T:e>>>0;if(0===c)return[];if(0===i.length)return null===M(u,i)?[i]:[];for(var h=0,l=0,f=[];l<i.length;){u.lastIndex=S?l:0;var p,d=M(u,S?i:i.slice(l));if(null===d||(p=k(x(u.lastIndex+(S?0:l)),i.length))===h)l=w(i,l,s);else{if(f.push(i.slice(h,l)),f.length===c)return f;for(var g=1;g<=d.length-1;g++)if(f.push(d[g]),f.length===c)return f;l=h=p}}return f.push(i.slice(h)),f}]})},function(t,e,n){var r=n(16),i=n(30),o=n(25)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var i=n(6),o=n(78),s=n(25)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||null==(n=i(r)[s])?e:o(n)}},function(t,e,n){"use strict";var r=n(188)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var u=n(48),c=n(24);t.exports=function(a){return function(t,e){var n,r,i=String(c(t)),o=u(e),s=i.length;return o<0||s<=o?a?"":void 0:(n=i.charCodeAt(o),n<55296||56319<n||o+1===s||(r=i.charCodeAt(o+1))<56320||57343<r?a?i.charAt(o):n:a?i.slice(o,o+2):r-56320+(n-55296<<10)+65536)}}},function(t,e,n){"use strict";var i=n(96),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";n(191);var h=n(23),l=n(43),f=n(8),p=n(24),d=n(25),g=n(62),v=d("species"),y=!f(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),_=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(n,t,e){var r=d(n),o=!f(function(){var t={};return t[r]=function(){return 7},7!=""[n](t)}),i=o?!f(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[v]=function(){return e}),e[r](""),!t}):void 0;if(!o||!i||"replace"===n&&!y||"split"===n&&!_){var s=/./[r],a=e(p,r,""[n],function(t,e,n,r,i){return e.exec===g?o&&!i?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),u=a[0],c=a[1];h(String.prototype,n,u),l(RegExp.prototype,r,2==t?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}}},function(t,e,n){"use strict";var r=n(62);n(41)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){t.exports=i;var h=n(64).EventEmitter,r=n(20);function i(){h.call(this)}r(i,h),i.Readable=n(65),i.Writable=n(205),i.Duplex=n(206),i.Transform=n(207),i.PassThrough=n(208),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(t){if(c(),0===h.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",a),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(t){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},function(t,e){"use strict";e.byteLength=o,e.toByteArray=s,e.fromByteArray=d;for(var u=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,i=n.length;r<i;++r)u[r]=n[r],c[n.charCodeAt(r)]=r;function l(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function o(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function f(t,e,n){return 3*(e+n)/4-n}function s(t){var e,n,r=l(t),i=r[0],o=r[1],s=new h(f(t,i,o)),a=0,u=0<o?i-4:i;for(n=0;n<u;n+=4)e=c[t.charCodeAt(n)]<<18|c[t.charCodeAt(n+1)]<<12|c[t.charCodeAt(n+2)]<<6|c[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===o&&(e=c[t.charCodeAt(n)]<<2|c[t.charCodeAt(n+1)]>>4,s[a++]=255&e),1===o&&(e=c[t.charCodeAt(n)]<<10|c[t.charCodeAt(n+1)]<<4|c[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s}function a(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function p(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(a(r));return i.join("")}function d(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(p(t,s,a<s+o?a:s+o));return 1===r?(e=t[n-1],i.push(u[e>>2]+u[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(u[e>>10]+u[e>>4&63]+u[e<<2&63]+"=")),i.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,h=-7,l=n?i-1:0,f=n?-1:1,p=t[e+l];for(l+=f,o=p&(1<<-h)-1,p>>=-h,h+=a;0<h;o=256*o+t[e+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;0<h;s=256*s+t[e+l],l+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=1<=s+l?f/u:f*Math.pow(2,1-l),2<=e*u&&(s++,u/=2),h<=s+l?(a=0,s=h):1<=s+l?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));8<=i;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;0<c;t[n+p]=255&s,p+=d,s/=256,c-=8);t[n+p-d]|=128*g}},function(t){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},function(){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(66).Buffer,o=n(199);function s(t,e,n){t.copy(e,n)}function a(){r(this,a),this.head=null,this.tail=null,this.length=0}t.exports=(a.prototype.push=function(t){var e={data:t,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length},a.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},a.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},a.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,r=0;n;)s(n.data,e,r),r+=n.data.length,n=n.next;return e},a),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},function(){},function(t,i,o){(function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}i.setTimeout=function(){return new r(n.call(setTimeout,e,arguments),clearTimeout)},i.setInterval=function(){return new r(n.call(setInterval,e,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(e,this._id)},i.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},i.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},i._unrefActive=i.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},o(201),i.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,i.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,o(21))},function(t,e,n){(function(t,_){!function(n,r){"use strict";if(!n.setImmediate){var i,o=1,s={},a=!1,u=n.document,t=Object.getPrototypeOf&&Object.getPrototypeOf(n);t=t&&t.setTimeout?t:n,("[object process]"==={}.toString.call(n.process)?f:p()?d:n.MessageChannel?g:u&&"onreadystatechange"in u.createElement("script")?v:y)(),t.setImmediate=e,t.clearImmediate=c}function e(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return s[o]=r,i(o),o++}function c(t){delete s[t]}function h(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function l(t){if(a)setTimeout(l,0,t);else{var e=s[t];if(e){a=!0;try{h(e)}finally{c(t),a=!1}}}}function f(){i=function(t){_.nextTick(function(){l(t)})}}function p(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}}function d(){var e="setImmediate$"+Math.random()+"$",t=function(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(e)&&l(+t.data.slice(e.length))};n.addEventListener?n.addEventListener("message",t,!1):n.attachEvent("onmessage",t),i=function(t){n.postMessage(e+t,"*")}}function g(){var e=new MessageChannel;e.port1.onmessage=function(t){var e=t.data;l(e)},i=function(t){e.port2.postMessage(t)}}function v(){var n=u.documentElement;i=function(t){var e=u.createElement("script");e.onreadystatechange=function(){l(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}}function y(){i=function(t){setTimeout(l,0,t)}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(21),n(37))},function(e,t,n){(function(n){function t(t,e){if(i("noDeprecation"))return t;var n=!1;function r(){if(!n){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}return r}function i(t){try{if(!n.localStorage)return!1}catch(t){return!1}var e=n.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}e.exports=t}).call(this,n(21))},function(t,e,n){var r=n(67),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";t.exports=o;var r=n(101),i=Object.create(n(26));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(20),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(68)},function(t,e,n){t.exports=n(13)},function(t,e,n){t.exports=n(65).Transform},function(t,e,n){t.exports=n(65).PassThrough},function(t,e,n){"use strict";var r=n(5),i=n(0);i(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(17));function s(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}(0,o.default)(s.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}});var a=s;e.default=a},function(t,e,n){"use strict";var r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i={MODULE_SHORTEST:1,MODULE_BEST:2},o=i;e.default=o},function(t,e,n){"use strict";var r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i={PRIORITY_DEFAULT:1,PRIORITY_LIFTFIRST:2,PRIORITY_ESCALATORFIRST:3,PRIORITY_STAIRFIRST:4,PRIORITY_LIFTONLY:5,PRIORITY_ESCALATORONLY:6,PRIORITY_STAIRONLY:7,PRIORITY_ACCESSIBLEONLY:8,PRIORITY_LIFTFIRST1:9,PRIORITY_ESCALATORFIRST1:10,PRIORITY_STAIRFIRST1:11},o=i;e.default=o},function(t,e,n){"use strict";n(213);var r=n(6),i=n(63),o=n(7),s="toString",a=/./[s],u=function(t){n(23)(RegExp.prototype,s,t,!0)};n(8)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):a.name!=s&&u(function(){return a.call(this)})},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(28).f(RegExp.prototype,"flags",{configurable:!0,get:n(63)})},function(t,e,n){"use strict";var r=n(96),i={};i[n(25)("toStringTag")]="z",i+""!="[object z]"&&n(23)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){t.exports=n(216)},function(t,e,n){n(217);var r=n(1).Object;t.exports=function(t,e){return r.defineProperties(t,e)}},function(t,e,n){var r=n(2);r(r.S+r.F*!n(4),"Object",{defineProperties:n(88)})},function(t,e,n){t.exports=n(219)},function(t,e,n){n(220),t.exports=Math.pow(2,-52)},function(t,e,n){var r=n(2);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){"use strict";var r=n(5),i=n(0);i(e,"__esModule",{value:!0}),e.Matrix4=v;var l,f,o,s,a,u,c,h,p,d=r(n(17)),g=n(102);function v(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}(0,d.default)(v.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,o,s,a,u,c,h,l,f,p,d,g){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=s,v[13]=a,v[2]=u,v[6]=c,v[10]=h,v[14]=l,v[3]=f,v[7]=p,v[11]=d,v[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new v).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:(p=new g.Vector3,function(t){var e=this.elements,n=t.elements,r=1/p.setFromMatrixColumn(t,0).length(),i=1/p.setFromMatrixColumn(t,1).length(),o=1/p.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(r),u=Math.sin(r),c=Math.cos(i),h=Math.sin(i);if("XYZ"===t.order){var l=o*c,f=o*h,p=s*c,d=s*h;e[0]=a*c,e[4]=-a*h,e[8]=u,e[1]=f+p*u,e[5]=l-d*u,e[9]=-s*a,e[2]=d-l*u,e[6]=p+f*u,e[10]=o*a}else if("YXZ"===t.order){var g=a*c,v=a*h,y=u*c,_=u*h;e[0]=g+_*s,e[4]=y*s-v,e[8]=o*u,e[1]=o*h,e[5]=o*c,e[9]=-s,e[2]=v*s-y,e[6]=_+g*s,e[10]=o*a}else if("ZXY"===t.order)g=a*c,v=a*h,y=u*c,_=u*h,e[0]=g-_*s,e[4]=-o*h,e[8]=y+v*s,e[1]=v+y*s,e[5]=o*c,e[9]=_-g*s,e[2]=-o*u,e[6]=s,e[10]=o*a;else if("ZYX"===t.order)l=o*c,f=o*h,p=s*c,d=s*h,e[0]=a*c,e[4]=p*u-f,e[8]=l*u+d,e[1]=a*h,e[5]=d*u+l,e[9]=f*u-p,e[2]=-u,e[6]=s*a,e[10]=o*a;else if("YZX"===t.order){var m=o*a,b=o*u,w=s*a,x=s*u;e[0]=a*c,e[4]=x-m*h,e[8]=w*h+b,e[1]=h,e[5]=o*c,e[9]=-s*c,e[2]=-u*c,e[6]=b*h+w,e[10]=m-x*h}else"XZY"===t.order&&(m=o*a,b=o*u,w=s*a,x=s*u,e[0]=a*c,e[4]=-h,e[8]=u*c,e[1]=m*h+x,e[5]=o*c,e[9]=b*h-w,e[2]=w*h-b,e[6]=s*c,e[10]=x*h+m);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(c=new g.Vector3(0,0,0),h=new g.Vector3(1,1,1),function(t){return this.compose(c,t,h)}),lookAt:(s=new g.Vector3,a=new g.Vector3,u=new g.Vector3,function(t,e,n){var r=this.elements;return u.subVectors(t,e),0===u.lengthSq()&&(u.z=1),u.normalize(),s.crossVectors(n,u),0===s.lengthSq()&&(1===Math.abs(n.z)?u.x+=1e-4:u.z+=1e-4,u.normalize(),s.crossVectors(n,u)),s.normalize(),a.crossVectors(u,s),r[0]=s.x,r[4]=a.x,r[8]=u.x,r[1]=s.y,r[5]=a.y,r[9]=u.y,r[2]=s.z,r[6]=a.z,r[10]=u.z,this}),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],s=n[4],a=n[8],u=n[12],c=n[1],h=n[5],l=n[9],f=n[13],p=n[2],d=n[6],g=n[10],v=n[14],y=n[3],_=n[7],m=n[11],b=n[15],w=r[0],x=r[4],M=r[8],k=r[12],T=r[1],S=r[5],E=r[9],D=r[13],A=r[2],R=r[6],P=r[10],I=r[14],L=r[3],O=r[7],C=r[11],z=r[15];return i[0]=o*w+s*T+a*A+u*L,i[4]=o*x+s*S+a*R+u*O,i[8]=o*M+s*E+a*P+u*C,i[12]=o*k+s*D+a*I+u*z,i[1]=c*w+h*T+l*A+f*L,i[5]=c*x+h*S+l*R+f*O,i[9]=c*M+h*E+l*P+f*C,i[13]=c*k+h*D+l*I+f*z,i[2]=p*w+d*T+g*A+v*L,i[6]=p*x+d*S+g*R+v*O,i[10]=p*M+d*E+g*P+v*C,i[14]=p*k+d*D+g*I+v*z,i[3]=y*w+_*T+m*A+b*L,i[7]=y*x+_*S+m*R+b*O,i[11]=y*M+_*E+m*P+b*C,i[15]=y*k+_*D+m*I+b*z,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:(o=new g.Vector3,function(t){for(var e=0,n=t.count;e<n;e++)o.x=t.getX(e),o.y=t.getY(e),o.z=t.getZ(e),o.applyMatrix4(this),t.setXYZ(e,o.x,o.y,o.z);return t}),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],s=t[5],a=t[9],u=t[13],c=t[2],h=t[6],l=t[10],f=t[14],p=t[3],d=t[7],g=t[11],v=t[15];return p*(i*a*h-r*u*h-i*s*l+n*u*l+r*s*f-n*a*f)+d*(e*a*f-e*u*l+i*o*l-r*o*f+r*u*c-i*a*c)+g*(e*u*h-e*s*f-i*o*h+n*o*f+i*s*c-n*u*c)+v*(-r*s*c-e*a*h+e*s*l+r*o*h-n*o*l+n*a*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,n){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],s=r[2],a=r[3],u=r[4],c=r[5],h=r[6],l=r[7],f=r[8],p=r[9],d=r[10],g=r[11],v=r[12],y=r[13],_=r[14],m=r[15],b=p*_*l-y*d*l+y*h*g-c*_*g-p*h*m+c*d*m,w=v*d*l-f*_*l-v*h*g+u*_*g+f*h*m-u*d*m,x=f*y*l-v*p*l+v*c*g-u*y*g-f*c*m+u*p*m,M=v*p*h-f*y*h-v*c*d+u*y*d+f*c*_-u*p*_,k=i*b+o*w+s*x+a*M;if(0===k){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(T);return console.warn(T),this.identity()}var S=1/k;return n[0]=b*S,n[1]=(y*d*a-p*_*a-y*s*g+o*_*g+p*s*m-o*d*m)*S,n[2]=(c*_*a-y*h*a+y*s*l-o*_*l-c*s*m+o*h*m)*S,n[3]=(p*h*a-c*d*a-p*s*l+o*d*l+c*s*g-o*h*g)*S,n[4]=w*S,n[5]=(f*_*a-v*d*a+v*s*g-i*_*g-f*s*m+i*d*m)*S,n[6]=(v*h*a-u*_*a-v*s*l+i*_*l+u*s*m-i*h*m)*S,n[7]=(u*d*a-f*h*a+f*s*l-i*d*l-u*s*g+i*h*g)*S,n[8]=x*S,n[9]=(v*p*a-f*y*a-v*o*g+i*y*g+f*o*m-i*p*m)*S,n[10]=(u*y*a-v*c*a+v*o*l-i*y*l-u*o*m+i*c*m)*S,n[11]=(f*c*a-u*p*a-f*o*l+i*p*l+u*o*g-i*c*g)*S,n[12]=M*S,n[13]=(f*y*s-v*p*s+v*o*d-i*y*d-f*o*_+i*p*_)*S,n[14]=(v*c*s-u*y*s-v*o*h+i*y*h+u*o*_-i*c*_)*S,n[15]=(u*p*s-f*c*s+f*o*h-i*p*h-u*o*d+i*c*d)*S,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,s=t.y,a=t.z,u=i*o,c=i*s;return this.set(u*o+n,u*s-r*a,u*a+r*s,0,u*s+r*a,c*s+n,c*a-r*o,0,u*a-r*s,c*a+r*o,i*a*a+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var r=this.elements,i=e._x,o=e._y,s=e._z,a=e._w,u=i+i,c=o+o,h=s+s,l=i*u,f=i*c,p=i*h,d=o*c,g=o*h,v=s*h,y=a*u,_=a*c,m=a*h,b=n.x,w=n.y,x=n.z;return r[0]=(1-(d+v))*b,r[1]=(f+m)*b,r[2]=(p-_)*b,r[3]=0,r[4]=(f-m)*w,r[5]=(1-(l+v))*w,r[6]=(g+y)*w,r[7]=0,r[8]=(p+_)*x,r[9]=(g-y)*x,r[10]=(1-(l+d))*x,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:(l=new g.Vector3,f=new v,function(t,e,n){var r=this.elements,i=l.set(r[0],r[1],r[2]).length(),o=l.set(r[4],r[5],r[6]).length(),s=l.set(r[8],r[9],r[10]).length(),a=this.determinant();a<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],f.copy(this);var u=1/i,c=1/o,h=1/s;return f.elements[0]*=u,f.elements[1]*=u,f.elements[2]*=u,f.elements[4]*=c,f.elements[5]*=c,f.elements[6]*=c,f.elements[8]*=h,f.elements[9]*=h,f.elements[10]*=h,e.setFromRotationMatrix(f),n.x=i,n.y=o,n.z=s,this}),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var s=this.elements,a=2*i/(e-t),u=2*i/(n-r),c=(e+t)/(e-t),h=(n+r)/(n-r),l=-(o+i)/(o-i),f=-2*o*i/(o-i);return s[0]=a,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=u,s[9]=h,s[13]=0,s[2]=0,s[6]=0,s[10]=l,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var s=this.elements,a=1/(e-t),u=1/(n-r),c=1/(o-i),h=(e+t)*a,l=(n+r)*u,f=(o+i)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-h,s[1]=0,s[5]=2*u,s[9]=0,s[13]=-l,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}})}],r={},i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=104)).default;function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r});