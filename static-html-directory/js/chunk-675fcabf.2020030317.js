(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-675fcabf"],{"1e77":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pathTrend"},[a("div",{staticClass:"path-picker"},[a("div",{staticClass:"path-date"},[a("DatePicker",{staticStyle:{width:"212px"},attrs:{type:"date",options:t.disabledDate,placeholder:"选择日期",format:"yyyy-MM-dd"},model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:"selectDate"}})],1),a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticClass:"cascade"},[a("el-cascader",{staticClass:"cascade-dom",attrs:{id:"1",placeholder:"选择起点",options:t.startList,"popper-class":"cascade-popper"},on:{change:function(e){t.cascaderChange("startValue")}},model:{value:t.startValue,callback:function(e){t.startValue=e},expression:"startValue"}})],1),a("div",{staticClass:"cascade"},[a("el-cascader",{staticClass:"cascade-dom",attrs:{id:"2",placeholder:"选择终点",options:t.endList,"popper-class":"cascade-popper"},on:{change:function(e){t.cascaderChange("endValue")}},model:{value:t.endValue,callback:function(e){t.endValue=e},expression:"endValue"}})],1),a("div",{staticClass:"path-submit",attrs:{disabled:""},on:{click:t.search}},[t._v("查询")]),a("div",{staticClass:"path-submit path-reset",on:{click:t.reset}},[t._v("重置")])])]),a("div",{staticClass:"path-title"},[a("p",[t._v("路径动向图")]),t.showFloor&&t.floorList.length>0?a("Select",{staticClass:"path-select",staticStyle:{width:"200px"},on:{"on-change":t.changePath},model:{value:t.selectPath,callback:function(e){t.selectPath=e},expression:"selectPath"}},t._l(t.pathList,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1):t._e()],1),t.floorList.length<=0?a("div",{staticClass:"noData"},[a("p",[t._v("暂无数据")])]):a("div",{class:{floorImg:!Boolean(t.floor_id)},staticStyle:{display:"flex"}},[a("div",{staticClass:"pathContent"},[t.showFloor?a("div",{staticClass:"floors",style:{right:t.floor_id?"18%":"60px"}},[t._l(t.floorLists,function(e,i){return a("p",{key:"floorLists-"+i,class:e.className,on:{click:function(e){t.changeFloor(i)}}},[t._v("\n          "+t._s(e.floorIndezName))])}),a("p",{staticClass:"floorAll",class:t.floorAllClass,on:{click:function(e){t.changeFloor("all")}}},[t._v("总览")])],2):t._e(),t.showPath?a("div",{staticClass:"drainageDiv",style:{width:t.imgWidth+"px",height:t.imgWidth/t.scale+"px"}},[t._l(t.svgLists,function(e,i){return a("div",{key:"x1-"+i,staticClass:"titles",style:{left:e.x1+"px",top:e.y1+"px"},attrs:{title:e.name},on:{click:function(a){t.dataList(e.id)}}})}),t._l(t.svgLists,function(e,i){return a("div",{key:"x2-"+i,staticClass:"titles",style:{left:e.x2+"px",top:e.y2+"px"},attrs:{title:e.name2},on:{click:function(a){t.dataList(e.id)}}})})],2):t._e(),t._l(t.svgLists,function(e,i){return t.showPath?a("div",{key:i,staticClass:"svgs",style:{width:t.imgWidth+"px",height:t.imgWidth/t.scale*t.svgHeight+"px"}},[a("svg",{attrs:{width:t.imgWidth,height:Number(t.imgWidth/t.scale*t.svgHeight),version:"1.1"}},[a("defs",[a("filter",{attrs:{id:"f1",x:"0",y:"0",width:"200%",height:"200%"}},[a("feOffset",{attrs:{result:"offOut",in:"SourceGraphic",dx:"10",dy:"10"}}),a("feGaussianBlur",{attrs:{result:"blurOut",in:"offOut",stdDeviation:"10"}}),a("feBlend",{attrs:{in:"SourceGraphic",in2:"blurOut",mode:"normal"}})],1)]),a("path",{attrs:{fill:"transparent","stroke-dasharray":e.dasharray,filter:"url(#f1)","stroke-linecap":e.lineCap,stroke:e.color,"stroke-width":e.width,d:e.d}}),a("g",{attrs:{stroke:"#389ECF","stroke-width":"3",fill:"#389ECF"}},[a("circle",{attrs:{cx:e.x1+10,cy:e.y1+10,r:"3"}}),a("circle",{attrs:{cx:e.x2+10,cy:e.y2+10,r:"3"}})])]),a("svg",{staticClass:"ball",style:{transform:e.transform,offsetPath:e.path,animation:e.animation},attrs:{width:"16",height:"16",viewBox:"0 0 1024 1024",version:"1.5"}},[a("path",{attrs:{d:"M 521.813 874.862 s 85.7783 -0.571021 85.77 -45.2698 L 607.456 199.988 c 0 -46.4123 -100.506 -53.0938 -100.506 -53.0938 s 136.923 -5.54963 151.473 45.633 c 14.7673 51.9001 67.1772 107.457 112.135 155.205 c 97.1147 103.133 228.052 159.266 228.052 159.266 s -116.378 70.1674 -215.041 159.309 a 618.749 618.749 0 0 0 -129.944 170.21 c -23.8016 47.6745 -131.81 38.3431 -131.81 38.3431 Z",fill:"#2bd9cf","p-id":"3058"}}),a("path",{attrs:{d:"M 611.191 377.294 l 110.296 134.806 l -107.844 122.55 l -590.693 -120.099 Z",fill:"#2bd9cf","p-id":"3059"}})])]):t._e()}),t._l(t.floorLists,function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"item.isShow"}],key:"floorList-"+i,style:{width:t.imgWidth+"px",height:t.imgWidth/t.scale+"px"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:e.isOnload,expression:"item.isOnload"}],staticStyle:{width:"100%",height:"100%"},attrs:{src:e.map_url}})])})],2),t.floor_id?a("div",{staticClass:"maps"},[a("pathTab",{attrs:{title:t.title1,numbers:t.number1}}),a("pathTab",{attrs:{parking:t.isParking,title:t.title2,numbers:t.number2,right:t.right}})],1):t._e()]),t.showDrainage?a("div",{staticClass:"path-drainage"},[a("div",{staticClass:"drainage-edit-bg"}),a("div",{staticClass:"drainage"},[a("div",{staticClass:"alert-close",on:{click:t.closeDrainage}},[a("Icon",{attrs:{type:"md-close"}})],1),a("drainage-map",{attrs:{dataList:t.drainageMapList,centerData:t.centerDataList,presentData:t.presentData,mapHeight:t.mapHeight,mapMargin:t.mapMargin,margin:t.margin}})],1)]):t._e(),t.isAlert?a("alert",{attrs:{alertText:t.alertText},on:{closeAlert:t.closeAlert,alertConfirm:t.closeAlert}}):t._e()],1)},r=[],s=(a("20d6"),a("5d73")),n=a.n(s),o=(a("96cf"),a("3b8d")),c=(a("6762"),a("2fdb"),a("c5f6"),a("ac6a"),a("7f7f"),a("7514"),a("bc8a")),l=a("c4a4"),d=a("ad00"),h=a("5241"),u=a("4474"),p=a("94b0"),f=a("2dc0"),m=a("c276"),g=a("c1df"),v=a.n(g),x=a("5fe9"),_=a.n(x),b=a("2ef0"),y=a.n(b),w={name:"goShop",components:{Ranking:u["a"],pathTab:l["a"],alert:f["a"],drainageMap:c["a"]},data:function(){return{showDrainage:!1,showFloor:!0,showPath:!1,selectDate:"",startValue:[],endValue:[],startList:[],endList:[],selectPath:-1,pathList:[{value:-1,label:"全部路径"}],allMoveData:[],floorList:[],partFloorList:[],scale:"",imgWidth:"",svgList:[],floorAllClass:" floorAllClass",currentPropertyId:"",isAlert:!1,svgHeight:0,title1:"游逛深度（个）",title2:"平均停留时间",number1:"  ",number2:"  ",isParking:!0,right:"18%",alertText:{title:"",text:"",bg:"",confirm:!1},tree:[],floor_id:"",colors:["#ec1313","#e8585a","#feb33d","#86ef40","#2bd9cf","#33b3ed","#7367f0","#6343eb","#ababab","#000"],imageOnload:0,drainageMapList:{},centerDataList:[],presentData:{},disabledDate:"",mapHeight:"650px",mapMargin:"20px auto 0 auto",margin:"12px 0px 0px -36px"}},watch:{"$store.state.home.headerAction":function(){this.currentPropertyId=this.$store.state.home.headerAction,this.tree=y.a.find(y.a.cloneDeep(this.$store.state.home.bussinessTree),["property_id",this.currentPropertyId]),this.reset();var t=this.$router.currentRoute.name;"PathTrend"===t&&this.init()},imageOnload:function(t,e){this.dealWithSearchData(this.allMoveData,-1),this.floorList.length}},computed:{floorLists:function(){var t=0;return this.floorList.forEach(function(e){e.isShow&&t++}),this.svgHeight=t,this.floorList},svgLists:function(){var t=0;return this.floorList.forEach(function(e){e.isShow&&t++}),this.svgHeight=t,this.svgList}},created:function(){this.disabledDate=m["b"],this.selectDate=v()(new Date).format("YYYY-MM-DD"),this.currentPropertyId=this.$store.state.home.headerAction,this.searchData()},mounted:function(){this.init()},methods:{init:function(){var t=this,e=[],a=y.a.find(this.$store.state.home.bussinessTree,["property_id",this.currentPropertyId]);a=Object(m["c"])([a],this.$store.state.user.role_id,this.$store.state.user.checklist);var i=y.a.cloneDeep(a);i[0].children=[],a[0].children.forEach(function(t,e){t.children&&i[0].children.push(t)}),this.tree=i[0];var r=this.tree.children.map(function(t){return t.className="",t.floorIndezName=Number(t.zone_index)>0?"F"+t.zone_index:"B"+-1*Number(t.zone_index),t});r=y.a.orderBy(r,["zone_index"],"desc"),this.imageOnload=0;var s=0;r.forEach(function(a,i){a.gate&&a.gate.forEach(function(i,r){e.push(t.formatStoreOption(i,a))}),a.children&&a.children.forEach(function(i,r){e.push(t.formatStoreOption(i,a))});var r=new Image;r.src=a.map_url,a.isShow=!0,a.isOnload=!1,r.onload=function(){t.imageOnload++,0==s&&(t.scale=r.width/r.height,t.imgWidth=document.getElementsByClassName("pathContent")[0].offsetWidth),s++,a.isShow=!0,a.isOnload=!0,console.log("楼层"+a.name+"加载成功")},r.onerror=function(){t.imageOnload++,console.log("楼层"+a.name+"加载失败"),a.isShow=!1},r.onerror=function(){t.imageOnload++,console.log("楼层"+a.name+"加载报错"),a.isShow=!1}}),this.floorList=r,this.allZoneList(),window.onresize=function(){return function(){t.imgWidth=document.getElementsByClassName("pathContent")[0].offsetWidth,t.dealWithSearchData(t.allMoveData,-1)}()}},allZoneList:function(){var t=this;Object(d["b"])({entity:52}).then(function(e){var a=e.data.data.filter(function(e){return e.property_id===t.$store.state.home.headerAction});t.formatCascadeAuthData(a)}).catch(function(t){console.log(t)})},cascaderChange:function(t){var e=this;function a(a){"floor"!==a.itype&&a.id!==e.startValue[0]&&a.id!==e.endValue[0]&&(a.disabled="startValue"===t?e.startValue.includes(a.id):e.endValue.includes(a.id))}"startValue"===t?Object(m["a"])(this.endList,"children",a):Object(m["a"])(this.startList,"children",a)},formatCascadeAuthData:function(t){this.startList=y.a.compact(Object(m["c"])(t,this.$store.state.user.role_id,this.$store.state.user.checklist)),this.startList=this.startList[0]&&this.startList[0].children;for(var e=0;e<this.startList.length;e++)this.startList[e].children&&this.startList[e].children.length||(this.startList.splice(e,1),e--);this.endList=y.a.cloneDeep(this.startList)},formatStoreOption:function(t,e){var a={};return a.id=t.id,a.value=t.id,a.name=t.name,a.label=t.name,a.text=t.name,a.zone_index=e.zone_index,a.action=!1,a},getFloorData:function(){var t=this,e=v()(this.selectDate).format("YYYY-MM-DD")+","+v()(this.selectDate).format("YYYY-MM-DD"),a=this.currentPropertyId;Object(p["i"])({time:e,property_id:a}).then(function(e){if(200==e.data.code){var a=y.a.find(e.data.data,["bzid",t.floor_id]);if(!a)return!1;t.number1=a?a.depthOfWandering:0,t.number2=a?Object(m["l"])(a.avgDwelltime):""}})},reset:function(){this.selectPath=-1,this.startValue=[],this.endValue=[],this.selectDate=v()(new Date).format("YYYY-MM-DD"),this.cascaderChange("startValue"),this.cascaderChange("endValue")},search:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.searchData();case 2:this.dealWithSearchData(this.allMoveData,-1);case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),searchData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a,i,r,s,o,c,l,d,h,u,f,m,g,x,_,b,w,D,C,k,L,S;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,a=v()(this.selectDate).format("YYYY-MM-DD"),i=this.currentPropertyId,r=this.startValue[1]||"",s=this.endValue[1]||"",o=this.floor_id,""!=r||""==s){t.next=11;break}return this.alert("起点不能为空，请选择起点"),t.abrupt("return",!1);case 11:if(""==r||""!=s){t.next=14;break}return this.alert("终点不能为空，请选择终点"),t.abrupt("return",!1);case 14:l=!0,d=!1,h=void 0,t.prev=17,u=n()(this.startList);case 19:if(l=(f=u.next()).done){t.next=28;break}if(m=f.value,g=y.a.find(m.children,["id",r]),!g){t.next=25;break}return c=m,t.abrupt("break",28);case 25:l=!0,t.next=19;break;case 28:t.next=34;break;case 30:t.prev=30,t.t0=t["catch"](17),d=!0,h=t.t0;case 34:t.prev=34,t.prev=35,l||null==u.return||u.return();case 37:if(t.prev=37,!d){t.next=40;break}throw h;case 40:return t.finish(37);case 41:return t.finish(34);case 42:_=!0,b=!1,w=void 0,t.prev=45,D=n()(this.startList);case 47:if(_=(C=D.next()).done){t.next=56;break}if(k=C.value,L=y.a.find(k.children,["id",s]),!L){t.next=53;break}return x=k,t.abrupt("break",56);case 53:_=!0,t.next=47;break;case 56:t.next=62;break;case 58:t.prev=58,t.t1=t["catch"](45),b=!0,w=t.t1;case 62:t.prev=62,t.prev=63,_||null==D.return||D.return();case 65:if(t.prev=65,!b){t.next=68;break}throw w;case 68:return t.finish(65);case 69:return t.finish(62);case 70:return Boolean(c)&&Boolean(x)&&(S=[],c.zone_index>=x.zone_index?this.floorList.forEach(function(t){t.isShow=!!(t.zone_index<=c.zone_index&&t.zone_index>=x.zone_index),t.isShow&&S.push(t)}):c.zone_index<x.zone_index&&this.floorList.forEach(function(t){t.isShow=!!(t.zone_index>=c.zone_index&&t.zone_index<=x.zone_index),t.isShow&&S.push(t)}),this.partFloorList=S),e.showFloor=!(""!=r||""!=s),t.next=74,Object(p["a"])({time:a,property_id:i,start:r,end:s,floor_id:o}).then(function(t){200==t.data.code&&(e.allMoveData=y.a.cloneDeep(t.data.data))});case 74:case"end":return t.stop()}},t,this,[[17,30,34,42],[35,,37,41],[45,58,62,70],[63,,65,69]])}));function e(){return t.apply(this,arguments)}return e}(),dealWithSearchData:function(t,e){var a=this;a.dealWithNode(t);var i=[],r=[],s=[{value:-1,label:"全部路径"}];t.forEach(function(t,r){var n=[],o=[];if(r<10){var c={};c.value=r,c.label="第"+(r+1)+"条",s.push(c)}-1!=e&&e!=r||(t.forEach(function(e,i){var r,s=1,c={};if(c.x=Math.floor(e.x*a.imgWidth),a.showFloor){var l=[];a.floorList.forEach(function(t){t.isShow&&l.push(t)}),r=y.a.findIndex(l,["zone_index",e.zone_index])}else r=y.a.findIndex(a.partFloorList,["zone_index",e.zone_index]);if(c.y=Math.floor((e.y+r)*a.imgWidth/a.scale),c.enter=t.enter,c.name=e.name,c.id=e.id,c.zone_index=e.zone_index,e.x||e.y||(s=0),0==i||1==i?n.push(c):(n.shift(),n.push(c)),i>0&&s>0){var d=y.a.cloneDeep(n),u=Object(h["b"])(n[0].x,n[0].y,n[1].x,n[1].y,100);if(d.splice(1,0,u),u.x<0||u.y<0)return!1;o.push(d)}}),i.push(o))}),i.forEach(function(t,e){t.forEach(function(t,i){var s={width:2};s.id=t[0].id,s.name=t[0].name,s.name2=t[2].name,s.color=a.colors[e],s.x1=t[0].x-10,s.y1=t[0].y-10,s.x2=t[2].x-10,s.y2=t[2].y-10,s.dasharray=t[0].zone_index==t[2].zone_index?"":"5,5",s.lineCap=t[0].zone_index==t[2].zone_index?"round":"",s.d="M"+t[0].x+" "+t[0].y+"Q "+t[1].x+" "+t[1].y+","+t[2].x+" "+t[2].y,s.path="path('M"+t[0].x+" "+t[0].y+"Q "+t[1].x+" "+t[1].y+","+t[2].x+" "+t[2].y+"')",s.animation="red-ball 6s linear  infinite",t[0].x>t[2].x&&t[0].y>t[2].y||t[0].x>t[2].x&&t[0].y<t[2].y?s.transform="rotateX(180deg)":s.transform="rotateX(0deg)",r.push(s)})}),a.pathList=s,a.svgList=r,a.showPath=!0},dealWithNode:function(t){var e=[];return t.forEach(function(t,a){var i=[];t.length>1&&(t.forEach(function(t,e){var a=[];t.x=t.position_x,t.y=t.position_y,0==e?a.push(t):1==e?(a.push(t),i.push(a)):(a.shift(),a.push(t),i.push(a))}),e.push(i))}),e},alert:function(t){this.isAlert=!0,this.alertText.bg="#00A0E9",this.alertText.title="路径动向分析",this.alertText.text=t,this.alertText.confirm=!1},closeAlert:function(){this.isAlert=!1},changePath:function(t){if(-1==t)this.floorList.forEach(function(t){t.isShow=!0});else{var e=this.allMoveData[t];e=e.map(function(t){return t.zone_index}),e=y.a.uniq(e),this.floorList.forEach(function(t){t.isShow=e.indexOf(t.zone_index)>-1})}this.dealWithSearchData(this.allMoveData,t)},changeFloor:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=this,a.showPath=!1,setTimeout(Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a.floorList.forEach(function(t,i){"all"==e?(t.className=" ",t.isShow=!0,a.floorAllClass=" floorAllClass",a.floor_id=""):(a.floorAllClass=" ",a.floor_id=a.floorList[e].id,e==i?(t.className=" selectFloor",t.isShow=!0):(t.className=" ",t.isShow=!1))}),a.$nextTick(Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a.getFloorData(),a.imgWidth=document.getElementsByClassName("pathContent")[0].offsetWidth,t.next=4,a.searchData();case 4:a.dealWithSearchData(a.allMoveData,-1);case 5:case"end":return t.stop()}},t)})));case 2:case"end":return t.stop()}},t)})),300);case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),closeDrainage:function(){this.showDrainage=!1},dataList:function(t){var e=this,a=v()(this.selectDate).format("YYYY-MM-DD")+","+v()(this.selectDate).format("YYYY-MM-DD");Object(p["g"])({time:a,bzid:t}).then(function(t){var a=t.data.data;e.allData=a,e.presentData.name=a.entity.name,e.presentData.img=a.entity.icon,e.graphList(a),e.centerList(a),e.showDrainage=!0})},graphList:function(t){var e={direct:[],radiation:[],indirect:[],departure:[]};t.inGate.gates.map(function(t,a){var i={};i.name=t.name,i.value=_.a.times(t.rate.ratio,100),Number(t.lastrate.ratio)>0||0==Number(t.lastrate.ratio)?i.action=!1:i.action=!0,i.link=_.a.times(t.lastrate.ratio,100),e.direct.length<5&&e.direct.push(i)}),t.inStore.stores.map(function(t){var a={};a.name=t.name,a.value=_.a.times(t.rate.ratio,100),Number(t.lastrate.ratio)>0||0==Number(t.lastrate.ratio)?a.action=!1:a.action=!0,a.link=_.a.times(t.lastrate.ratio,100),e.radiation.length<5&&e.radiation.push(a)}),t.outStore.stores.map(function(t){var a={};a.name=t.name,a.value=_.a.times(t.rate.ratio,100),Number(t.lastrate.ratio)>0||0==Number(t.lastrate.ratio)?a.action=!1:a.action=!0,a.link=_.a.times(t.lastrate.ratio,100),e.indirect.length<5&&e.indirect.push(a)}),t.outGate.gates.map(function(t){var a={};a.name=t.name,a.value=_.a.times(t.rate.ratio,100),Number(t.lastrate.ratio)>0||0==Number(t.lastrate.ratio)?a.action=!1:a.action=!0,a.link=_.a.times(t.lastrate.ratio,100),e.departure.length<5&&e.departure.push(a)}),this.drainageMapList=e},centerList:function(t){this.centerDataList=[];var e=[],a={};a.value=_.a.times(t.inGate.rate.ratio,100);var i=Number(t.inGate.rate.crCompare);a.action=!(i>0||0==i),a.text="出入口引入占比",a.link=_.a.times(t.inGate.rate.crCompare,100),e.push(a);var r={};r.value=_.a.times(t.outStore.rate.ratio,100);var s=Number(t.outStore.rate.crCompare);r.action=!(s>0||0==s),r.text="辐射店铺占比",r.link=_.a.times(t.outStore.rate.crCompare,100),e.push(r);var n={};n.value=_.a.times(t.inStore.rate.ratio,100);var o=Number(t.inStore.rate.crCompare);n.action=!(o>0||0==o),n.text="店铺引入占比",n.link=_.a.times(t.inStore.rate.crCompare,100),e.push(n);var c={};c.value=_.a.times(t.outGate.rate.ratio,100);var l=Number(t.outGate.rate.crCompare);c.action=!(l>0||0==l),c.text="离场客流占比",c.link=_.a.times(t.outGate.rate.crCompare,100),e.push(c),this.centerDataList=e}}},D=w,C=(a("89f3"),a("2877")),k=Object(C["a"])(D,i,r,!1,null,null,null);e["default"]=k.exports},"6f5f":function(t,e,a){t.exports=a.p+"img/shop.8ec38cf9.png"},"730b":function(t,e,a){},"74d5":function(t,e,a){},"85aa":function(t,e,a){t.exports=a.p+"img/draniage_center.a804f35f.png"},"89f3":function(t,e,a){"use strict";var i=a("74d5"),r=a.n(i);r.a},bc8a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"drainage-map"},[a("h1",[t._v("引流图\n      "),a("Tooltip",{attrs:{content:t.tootipText,placement:"right",theme:"light",transfer:"","max-width":"500"}},[a("icons",{attrs:{type:"wenhao"}})],1)],1),a("div",{staticClass:"drainage-map-text",style:{height:t.mapHeight,margin:t.mapMargin}},[a("div",{staticClass:"drainage-map-left"},[a("div",{staticClass:"drainage-map-left-top"},[a("ul",t._l(t.dataList.direct,function(e,i){return a("li",{key:i},[a("div",{staticClass:"drainage-enter"},[a("p",[t._v("客流占比："+t._s(e.value)+"%")]),a("p",[t._v("\n                              环比\n                              "),e.action?a("Icon",{attrs:{type:"md-arrow-dropdown"}}):a("Icon",{attrs:{type:"md-arrow-dropup"}}),a("span",{class:{clolorAction:e.action}},[t._v(t._s(e.link)+"%")])],1)]),a("div",{staticClass:"drainage-name",staticStyle:{"padding-left":"10%"}},[t._v(t._s(e.name))]),a("div",{staticClass:"drainage-img"},[a("img",{attrs:{src:t.accessImg,alt:""}})])])}))]),a("div",{staticClass:"drainage-map-left-bottom"},[a("ul",t._l(t.dataList.radiation,function(e,i){return a("li",{key:i},[a("div",{staticClass:"drainage-enter"},[a("p",[t._v("客流占比："+t._s(e.value)+"%")]),a("p",[t._v("\n                              环比\n                              "),e.action?a("Icon",{attrs:{type:"md-arrow-dropdown"}}):a("Icon",{attrs:{type:"md-arrow-dropup"}}),a("span",{class:{clolorAction:e.action}},[t._v(t._s(e.link)+"%")])],1)]),a("div",{staticClass:"drainage-name",staticStyle:{"padding-left":"10%"}},[t._v(t._s(e.name))]),a("div",{staticClass:"drainage-img"},[a("img",{attrs:{src:t.shopImg,alt:""}})])])}))])]),a("div",{staticClass:"drainage-map-center"},[a("img",{staticClass:"drainage-map-center-bg",attrs:{src:t.centerImg,alt:""}}),a("div",{staticClass:"drainage-map-center-text"},[a("img",{style:{margin:t.margin},attrs:{src:t.shopImg,alt:""}}),a("p",{staticClass:"drainage-shop-name"},[t._v(t._s(t.presentData.name))])]),t._l(t.centerData,function(e){return a("div",{staticClass:"text-location"},[a("p",[t._v(t._s(e.text)+"："+t._s(e.value)+"%")]),a("p",[t._v("\n                    环比\n                  "),e.action?a("Icon",{attrs:{type:"md-arrow-dropdown"}}):a("Icon",{attrs:{type:"md-arrow-dropup"}}),a("span",{class:{clolorAction:e.action}},[t._v(t._s(e.link)+"%")])],1)])})],2),a("div",{staticClass:"drainage-map-right"},[a("div",{staticClass:"drainage-map-left-top"},[a("ul",t._l(t.dataList.indirect,function(e,i){return a("li",{key:i},[a("div",{staticClass:"drainage-img"},[a("img",{attrs:{src:t.shopImg,alt:""}})]),a("div",{staticClass:"drainage-name",staticStyle:{"padding-right":"10%"}},[t._v(t._s(e.name))]),a("div",{staticClass:"drainage-enter"},[a("p",[t._v("客流占比："+t._s(e.value)+"%")]),a("p",[t._v("\n                              环比\n                              "),e.action?a("Icon",{attrs:{type:"md-arrow-dropdown"}}):a("Icon",{attrs:{type:"md-arrow-dropup"}}),a("span",{class:{clolorAction:e.action}},[t._v(t._s(e.link)+"%")])],1)])])}))]),a("div",{staticClass:"drainage-map-left-bottom"},[a("ul",t._l(t.dataList.departure,function(e,i){return a("li",{key:i},[a("div",{staticClass:"drainage-img"},[a("img",{attrs:{src:t.accessImg,alt:""}})]),a("div",{staticClass:"drainage-name",staticStyle:{"padding-right":"10%"}},[t._v(t._s(e.name))]),a("div",{staticClass:"drainage-enter"},[a("p",[t._v("客流占比："+t._s(e.value)+"%")]),a("p",[t._v("\n                              环比\n                              "),e.action?a("Icon",{attrs:{type:"md-arrow-dropdown"}}):a("Icon",{attrs:{type:"md-arrow-dropup"}}),a("span",{class:{clolorAction:e.action}},[t._v(t._s(e.link)+"%")])],1)])])}))])])])])},r=[],s={name:"drainage-map",props:{dataList:{type:Object,default:{}},presentData:{type:Object,default:{}},centerData:{type:Array,default:[]},mapHeight:{type:String,default:"800px"},mapMargin:{type:String,default:"50px auto 0 auto"},margin:{type:String,default:"-50px"}},components:{},data:function(){return{listData:{direct:[],indirect:[],radiation:[],departure:[]},centerList:[{value:36,text:"出入口引入占比",action:!1,link:10},{value:36,text:"辐射店铺占比",action:!0,link:10},{value:36,text:"店铺引入占比",action:!0,link:10},{value:36,text:"离场客流占比",action:!1,link:10}],centerImg:a("85aa"),shopImg:a("6f5f"),accessImg:a("f572"),tootipText:"该引流图包括出入口引入客流、店铺引入客流、辐射店铺客流和离场客流，其中：\n出入口引入客流：从出入口直接进入所选店铺的转化客流\n店铺引入客流：从其他店铺到所选店铺的转化客流\n辐射店铺客流：从所选店铺到其他店铺转化客流\n离场客流：从所选店铺直接离开购物中心的客流"}},mounted:function(){},methods:{}},n=s,o=(a("cd8f"),a("2877")),c=Object(o["a"])(n,i,r,!1,null,"35c843da",null);e["a"]=c.exports},cd8f:function(t,e,a){"use strict";var i=a("730b"),r=a.n(i);r.a},f572:function(t,e,a){t.exports=a.p+"img/access.c670f50b.png"}}]);