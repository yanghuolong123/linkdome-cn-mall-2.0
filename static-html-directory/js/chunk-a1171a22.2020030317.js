(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a1171a22"],{"22e4":function(e,t,a){},"32d8":function(e,t,a){e.exports=a("a222")},5118:function(e,t,a){(function(e){var i="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,s=Function.prototype.apply;function n(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new n(s.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new n(s.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,a("c8ba"))},6017:function(e,t,a){(function(e,t){(function(e,a){"use strict";if(!e.setImmediate){var i,s=1,n={},r=!1,c=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?f():p()?m():e.MessageChannel?y():c&&"onreadystatechange"in c.createElement("script")?v():T(),l.setImmediate=o,l.clearImmediate=d}function o(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var r={callback:e,args:t};return n[s]=r,i(s),s++}function d(e){delete n[e]}function u(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(a,i);break}}function h(e){if(r)setTimeout(h,0,e);else{var t=n[e];if(t){r=!0;try{u(t)}finally{d(e),r=!1}}}}function f(){i=function(e){t.nextTick(function(){h(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}function m(){var t="setImmediate$"+Math.random()+"$",a=function(a){a.source===e&&"string"===typeof a.data&&0===a.data.indexOf(t)&&h(+a.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),i=function(a){e.postMessage(t+a,"*")}}function y(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;h(t)},i=function(t){e.port2.postMessage(t)}}function v(){var e=c.documentElement;i=function(t){var a=c.createElement("script");a.onreadystatechange=function(){h(t),a.onreadystatechange=null,e.removeChild(a),a=null},e.appendChild(a)}}function T(){i=function(e){setTimeout(h,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,a("c8ba"),a("4362"))},"67af":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"datePickerbox"},[a("DatePicker",{staticClass:"idatePicker",staticStyle:{width:"100%"},attrs:{transfer:"",type:"daterange",options:e.options,placement:"bottom-end",placeholder:"时间",editable:!1},on:{"on-change":e.selectDate},model:{value:e.defaultDate,callback:function(t){e.defaultDate=t},expression:"defaultDate"}})],1)},s=[],n=(a("ac6a"),a("c5f6"),a("c1df")),r=a.n(n),c=a("2ef0"),l=a.n(c),o={name:"idatePicker",props:{value:{type:Array,default:function(){return[r()().add(-1,"d").toDate(),r()().add(-1,"d").toDate()]}},dType:{type:Number,default:1}},data:function(){var e=this;return{clickTimeName:"l",options:{shortcuts:[{text:"今 日",value:function(){var e=new Date,t=new Date;return[t,e]},onClick:function(t){e.clickTimeName="t"}},{text:"昨 日",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-864e5),e.setTime(e.getTime()-864e5),[t,e]},onClick:function(t){e.clickTimeName="l"}},{text:"上 周",value:function(){var e=new Date,t=new Date;return t.setTime(r()().startOf("week").add(-6,"day").format("x")),e.setTime(r()().startOf("week").format("x")),[t,e]},onClick:function(t){e.clickTimeName="w"}},{text:"上 月",value:function(){var e=new Date,t=new Date;return t.setTime(r()().startOf("month").add(-1,"day").startOf("month").format("x")),e.setTime(r()().startOf("month").add(-1,"day").format("x")),[t,e]},onClick:function(t){e.clickTimeName="m"}},{text:"今 年",value:function(){var e=new Date,t=new Date,a=r()().dayOfYear()-1;return t.setTime(t.getTime()-864e5*a),[t,e]},onClick:function(t){e.clickTimeName="y"}}],disabledDate:function(e){return r()(e).isAfter(r()())}}}},computed:{defaultDate:{get:function(){var e=l.a.cloneDeep(this.value);return e},set:function(e){return e}}},watch:{"$store.state.home.headerAction":function(){this.value=[];var e=[r()().add(-1,"d").toDate(),r()().add(-1,"d").toDate()];this.value=e}},activated:function(){this.value=[];var e=[r()().add(-1,"d").toDate(),r()().add(-1,"d").toDate()];this.value=e},mounted:function(){},methods:{selectDate:function(e){var t=[],a="YYYY-MM-DD",i=r()().format(a),s=r()().add(-1,"M").daysInMonth(),n=r()().dayOfYear();this.options.shortcuts.forEach(function(e){var a=[];e.value().forEach(function(e){a.push(r()(e).format("YYYY-MM-DD"))}),t.push(a)});var c=[];if(t.forEach(function(t){l.a.isEqual(t,e)&&c.push(t)}),c.length){var o=Math.abs(r()(e[0]).diff(e[1],"d"));0===o&&(l.a.difference(e,[i,i]).length?this.clickTimeName="l":this.clickTimeName="t"),6===o&&(this.clickTimeName="w"),o===s&&(this.clickTimeName="m"),o===n&&(this.clickTimeName="y")}else this.clickTimeName="";this.$emit("selectDate",e,this.clickTimeName,this.dType)}}},d=o,u=(a("a5dd"),a("2877")),h=Object(u["a"])(d,i,s,!1,null,"110a81c2",null);t["a"]=h.exports},"7f3f":function(e,t,a){},"850c":function(e,t,a){"use strict";var i=a("63b6"),s=a("20fd");i(i.S+i.F*a("294c")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){var e=0,t=arguments.length,a=new("function"==typeof this?this:Array)(t);while(t>e)s(a,e,arguments[e++]);return a.length=t,a}})},a21f:function(e,t,a){var i=a("584a"),s=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},a222:function(e,t,a){a("850c"),e.exports=a("584a").Array.of},a5dd:function(e,t,a){"use strict";var i=a("7f3f"),s=a.n(i);s.a},ca2d:function(e,t,a){"use strict";var i=a("22e4"),s=a.n(i);s.a},d4a6:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flow-selector"},[a("vs-row",[a("vs-col",{staticStyle:{width:"230px",padding:"0","margin-left":"15px"},attrs:{"vs-xs":12}},[a("i-date-picker",{attrs:{value:e.dateValue,dType:1},on:{selectDate:e.dateSelect}})],1),e.compare?a("vs-col",{staticStyle:{width:"230px",padding:"0","margin-left":"15px"},attrs:{"vs-xs":12}},[a("vs-select",{attrs:{width:"230px;",autocomplete:""},model:{value:e.compareType,callback:function(t){e.compareType=t},expression:"compareType"}},e._l(e.type,function(t,i){return e.isNeedEntity?a("vs-select-item",{key:i,attrs:{value:t.value,text:t.label}}):e._l(e.types,function(e,t){return a("vs-select-item",{key:t,attrs:{value:e.value,text:e.label}})})}),1)],1):e._e(),"time"===e.compareType?[a("vs-col",{staticStyle:{width:"230px",padding:"0","margin-left":"15px"},attrs:{"vs-xs":10}},[a("i-date-picker",{attrs:{dType:2},on:{selectDate:e.dateSelect}})],1)]:e._e()],2),a("vs-row",{directives:[{name:"show",rawName:"v-show",value:"entity"===e.compareType,expression:"compareType === 'entity'"}]},[a("vs-col",{staticClass:"mt-4"},[e.isShop?a("vs-radio",{staticStyle:{"margin-right":"1rem"},attrs:{"vs-value":"shop"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}},[e._v("购物中心")]):e._e(),e.isFloor?a("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"floor"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}},[e._v("楼层")]):e._e(),e.isStore?a("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"store"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}},[e._v("商铺")]):e._e(),e.isArea?a("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"area"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}},[e._v("区域")]):e._e(),e.isGate?a("vs-radio",{attrs:{"vs-value":"gate"},model:{value:e.entityType,callback:function(t){e.entityType=t},expression:"entityType"}},[e._v("出入口")]):e._e()],1)],1),a("vs-row",[e.isCascade?a("vs-col",{staticClass:"mt-4",staticStyle:{width:"230px",padding:"0","margin-left":"15px"},attrs:{"vs-xs":12}},[e.isCascade?a("div",{staticClass:"cascadeDom"},[a("el-cascader",{staticClass:"cascadeSelect",attrs:{props:{multiple:!0},options:e.cascadeList},model:{value:e.cascadeData,callback:function(t){e.cascadeData=t},expression:"cascadeData"}})],1):e._e()]):a("vs-col",{staticClass:"mt-4",staticStyle:{width:"230px",padding:"0","margin-left":"15px"},attrs:{"vs-xs":12}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"entity"!==e.compareType,expression:"compareType !== 'entity'"}],staticClass:"cascadeDom",staticStyle:{margin:"0"}},[a("el-cascader",{key:e.isResouceShow,staticClass:"cascadeSelect",staticStyle:{width:"100%"},attrs:{props:{multiple:e.multiple,checkStrictly:!0},options:e.cascaderTree},model:{value:e.cascaderSelectList,callback:function(t){e.cascaderSelectList=t},expression:"cascaderSelectList"}})],1),a("vs-select",{directives:[{name:"show",rawName:"v-show",value:"entity"===e.compareType,expression:"compareType === 'entity'"}],attrs:{width:"100%",autocomplete:"",multiple:e.multiple,placeholder:"请选择实体",noDataText:e.noData},on:{change:e.selectEntityAction},model:{value:e.selectList,callback:function(t){e.selectList=t},expression:"selectList"}},e._l(e.treeList,function(e){return a("vs-select-item",{key:e.value,class:{endAction:e.disabled},attrs:{value:e.value,text:e.label,disabled:e.disabled}})}),1)],1),e.footFall?a("vs-col",{staticClass:"mt-4",staticStyle:{width:"230px",padding:"0","margin-left":"15px"},attrs:{"vs-xs":12}},[a("vs-select",{attrs:{autocomplete:"",width:"100%"},model:{value:e.queryParams.enterType,callback:function(t){e.$set(e.queryParams,"enterType",t)},expression:"queryParams.enterType"}},e._l(e.customType,function(e,t){return a("vs-select-item",{key:t,attrs:{value:e.value,text:e.label}})}),1)],1):e._e(),a("vs-col",{staticClass:"mt-4",staticStyle:{width:"230px",padding:"0","margin-left":"15px"},attrs:{"vs-xs":12}},[a("vs-button",{staticClass:"btn",staticStyle:{float:"left"},attrs:{color:"primary"},on:{click:e.handleClick}},[e._v("查询")]),e.isReset?a("vs-button",{staticClass:"btn ml-4 reset",attrs:{color:""},on:{click:e.resetClick}},[e._v("重置")]):e._e()],1)],1)],1)},s=[],n=a("f499"),r=a.n(n),c=(a("6762"),a("2fdb"),a("32d8")),l=a.n(c),o=a("a745"),d=a.n(o),u=(a("7514"),a("a4bb")),h=a.n(u),f=a("795b"),p=a.n(f),m=(a("ac6a"),a("5df3"),a("5d73")),y=a.n(m),v=(a("7f7f"),a("c1df")),T=a.n(v),g=a("67af"),b=a("ad00"),D=a("2ef0"),L=a.n(D),w=a("5118"),x=a("c276"),k={name:"flowvs-selector",props:{compare:{type:Boolean,default:!0},typeText:{type:String,default:""},footFall:{type:Boolean,default:!0},isRanking:{type:Boolean,default:!1},isShop:{type:Boolean,default:!1},isFloor:{type:Boolean,default:!1},isStore:{type:Boolean,default:!1},isArea:{type:Boolean,default:!1},isGate:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},isReset:{type:Boolean,default:!1},isNeedEntity:{type:Boolean,default:!0},isAgeGender:{type:Boolean,default:!1},routName:{type:String,default:""}},components:{iDatePicker:g["a"]},data:function(){return{isResouceShow:0,isCascade:!1,selectAll:0,dateValue:[T()().add(-1,"d").toDate(),T()().add(-1,"d").toDate()],customType:[{value:"0",label:"全部客流"}],entityType:"floor",type:[{value:"not",label:"无对比"},{value:"entity",label:"实体对比"},{value:"time",label:"时间对比"}],types:[{value:"not",label:"无对比"},{value:"time",label:"时间对比"}],queryParams:{date1Array:[T()().add(-1,"d").format("YYYY-MM-DD"),T()().add(-1,"d").format("YYYY-MM-DD")],date2Array:[T()().add(-1,"d").format("YYYY-MM-DD"),T()().add(-1,"d").format("YYYY-MM-DD")],entitys:[],enterType:"0"},compareType:"not",selectList:[],treeData:[],noData:"暂无数据",defalutEntityId:"",cascadeList:[],cascadeData:[],cascadeAllStore:[],cascaderTree:[],cascaderSelectList:[]}},watch:{entityType:function(){var e=this,t=this;this.selectList=[],this.treeList.length>0&&("dwellText"==this.typeText?this.selectList=L.a.cloneDeep(t.treeList.map(function(e){return e.id})):Object(w["setTimeout"])(function(){e.selectList=L.a.cloneDeep(t.treeList.map(function(e){return e.id}))}))},compareType:function(){var e=this;this.selectList=[],"entity"==this.compareType?("sales"==this.routName?this.entityType="shop":"entity"==this.routName||"ageGender"==this.routName?this.isShop=!1:"dwellTime"==this.routName?this.entityType="shop":this.entityType="floor",this.selectList=[],0!=this.treeList.length&&(this.selectList=L.a.cloneDeep(e.treeList.map(function(e){return e.id}))),this.isShop?this.entityType="shop":this.isFloor?this.entityType="floor":this.isStore?this.entityType="store":this.isArea?this.entityType="area":this.isGate&&(this.entityType="gate")):("entity"!=this.routName&&"ageGender"!=this.routName||(this.isShop=!0),"effective"==this.typeText?this.cascaderSelectList=[this.cascaderTree[0].id]:this.cascaderSelectList=[[this.cascaderTree[0].id]],"time"==this.compareType&&(this.dateValue=[T()().add(-1,"d").toDate(),T()().add(-1,"d").toDate()],this.dateSelect(this.dateValue,"",2)),this.isCascade=!1,this.selectList=L.a.cloneDeep(e.treeList.map(function(e){return e.id})))},"$store.state.home.headerAction":function(){this.resetClick();var e=this.$router.currentRoute.name;"SalesAnalytics"!==e&&"Entity"!==e&&"AgeGender"!==e&&"Ranking"!==e&&"Effective"!==e&&"DwellTime"!==e||(this.bussinessTreeReq(),this.CascadeList())},"$store.state.home.bussinessDict":function(){this.CascadeList()},cascaderTree:{handler:function(e,t){if(e&&e.length){var a=L.a.cloneDeep(this.$store.state.user.business_zone_privilege);this.cascaderSelectList=a?this.multiple?[a[0]]||!1:a[0]||[]:this.multiple?this.cascaderTree[0]&&[[this.cascaderTree[0].id]]||[]:this.cascaderTree[0]&&[this.cascaderTree[0].id]||[],this.isResouceShow=this.isResouceShow+1}},immediate:!0}},computed:{treeList:function(){var e=[];if("entity"!==this.compareType&&this.multiple){this.isCascade=!1;var t={value:0,id:0,label:"全部实体"};e.push(t)}else{if("ranking"==this.routName||"ageGender"==this.routName||"entity"==this.routName){t={value:0,id:0,label:"全部实体"};e.push(t)}"store"==this.entityType?this.isCascade=!0:this.isCascade=!1}var a=this.$store.state.home.headerAction,i=!0,s=!1,n=void 0;try{for(var r,c=y()(this.treeData);!(i=(r=c.next()).done);i=!0){var l=r.value;if(l.property_id==a&&(this.isShop&&("shop"!==this.entityType&&"entity"===this.compareType||(l.value=l.id,l.id=l.id,l.label=l.name,l.name=l.name,l.itype="shop",l.belongsType="购物中心",e.push(l))),l.children)){var o=!0,d=!1,u=void 0;try{for(var h,f=y()(l.children);!(o=(h=f.next()).done);o=!0){var p=h.value;if(p.value=p.id,p.id=p.id,p.label=p.name,p.name=p.name,p.itype="floor",p.belongsType="楼层",this.isFloor&&("floor"!==this.entityType&&"entity"===this.compareType||e.push(p)),p.gate&&this.isGate){var m=!0,v=!1,T=void 0;try{for(var g,b=y()(p.gate);!(m=(g=b.next()).done);m=!0){var D=g.value;D.value=D.id,D.id=D.id,D.label=D.name,D.name=D.name,D.itype="gate",D.belongsType="出入口","gate"!==this.entityType&&"entity"===this.compareType||e.push(D)}}catch(O){v=!0,T=O}finally{try{m||null==b.return||b.return()}finally{if(v)throw T}}}if(p.area&&this.isArea){var w=!0,x=!1,k=void 0;try{for(var S,_=y()(p.area);!(w=(S=_.next()).done);w=!0){var C=S.value;C.value=C.id,C.id=C.id,C.label=C.name,C.name=C.name,C.itype="area",C.belongsType="区域","area"!==this.entityType&&"entity"===this.compareType||e.push(C)}}catch(O){x=!0,k=O}finally{try{w||null==_.return||_.return()}finally{if(x)throw k}}}if(p.children){var A=!0,Y=!1,N=void 0;try{for(var E,I=y()(p.children);!(A=(E=I.next()).done);A=!0){var M=E.value;M.value=M.id,M.id=M.id,M.label=M.name,M.name=M.name,M.itype="store",M.belongsType="商铺",this.isStore&&("store"!==this.entityType&&"entity"===this.compareType||e.push(M))}}catch(O){Y=!0,N=O}finally{try{A||null==I.return||I.return()}finally{if(Y)throw N}}}}}catch(O){d=!0,u=O}finally{try{o||null==f.return||f.return()}finally{if(d)throw u}}}}}catch(O){s=!0,n=O}finally{try{i||null==c.return||c.return()}finally{if(s)throw n}}return e=L.a.cloneDeep(e),e}},created:function(){},mounted:function(){this.CascadeList(),this.bussinessTreeReq()},methods:{bussinessTreeReq:function(){var e=this,t="store"==this.$store.state.user.accountLvl?2e3:0;Object(w["setTimeout"])(function(){var t=e.$store.state.home.headerAction;p.a.all([Object(b["b"])({entity:52}),Object(b["a"])({entity:52})]).then(function(a){if(0!=t){var i=L.a.cloneDeep(a[0].data.data).filter(function(e){return e.property_id===t});e.formatCascadeAuthData(i),e.treeData=a[0].data.data}})},t)},CascadeList:function(){var e=this,t=this.$store.state.home.headerAction,a=this.$store.state.user.accoutLvl;if("floor"==a||"store"==a||0==t)return!1;Object(b["c"])({property_id:t}).then(function(t){if(200==t.data.code){e.cascadeList=[],e.cascadeAllStore=[];var a=t.data.data,i=h()(a);i.forEach(function(t){var i={};i.value=t,i.label=t,i.children=[],a[t].forEach(function(t){var a={};a.value=t.id,a.label=t.name,a.name=t.name,e.cascadeAllStore.push(a),i.children.push(a)}),e.cascadeList.push(i)})}}).catch(function(e){console.log(e)})},pushIdList:function(){var e=this,t=this;t.treeList.some(function(e){return 0===e.id})?1==t.treeList.length?t.defalutEntityId=t.treeList[0].id:0==t.isRanking?t.defalutEntityId=t.treeList[1].id:"ranking"==t.routName?t.defalutEntityId=t.treeList[0].id:t.defalutEntityId=t.treeList[2].id:0!=t.treeList.length&&("ranking"==t.routName?t.treeList.length>1&&(t.defalutEntityId=t.treeList[0].id):t.defalutEntityId=t.treeList[0].id),this.selectList=[],this.selectList=L.a.cloneDeep(t.treeList.map(function(e){return e.id})),Object(w["setTimeout"])(function(){e.handleClick()})},dateSelect:function(e,t,a){e[0]=T()(e[0]).format("YYYY-MM-DD"),e[1]=T()(e[1]).format("YYYY-MM-DD"),1===a&&(this.queryParams.date1Array=e),2===a&&(this.queryParams.date2Array=e)},handleClick:function(){var e=this;if(this.queryParams.date1Array.length&&this.queryParams.date1Array[0])if("time"!==this.compareType||this.queryParams.date2Array.some(function(e){return""!==e})){var t=[];if("entity"==this.compareType)if("store"==this.entityType)this.cascadeData.map(function(a){var i={itype:"store"};i.id=a[1],i.label=L.a.find(e.cascadeAllStore,function(e){return e.value==a[1]}).label,i.name=i.label,i.belongsType="商铺",t.push(i)});else{var a=L.a.cloneDeep(this.selectList);if(d()(a)||(a=l()(a)),0==this.$store.state.home.headerAction)return!1;if(!a)return void alert("请选择实体");a.forEach(function(a){var i=L.a.find(e.treeList,function(e){return e.value===a});0!=i&&t.push(i)})}else{var i=function(e){s.includes(e.id)&&t.push({id:e.id,label:e.label,name:e.name,itype:e.itype,belongsType:e.belongsType})},s=[];s=this.multiple?this.cascaderSelectList&&this.cascaderSelectList.map(function(e){return e[e.length-1]}):this.cascaderSelectList&&[this.cascaderSelectList[this.cascaderSelectList.length-1]],Object(x["a"])(this.cascaderTree,"children",i)}this.queryParams.entitys=t,this.queryParams.compareType=this.compareType,this.$emit("on-change",this.queryParams)}else alert("请选择比较时间2");else{var n="time"===this.compareType?"请选择比较时间1":"请选择比较时间";alert(n)}},resetClick:function(){var e=this;try{window.TDAPP.onEvent(this.$route.meta.pageTitle+"页面","重置",{})}catch(a){console.log(this.$route.meta.pageTitle+"页面-重置-埋点error:"+a)}this.compareType="not",this.entityType="floor",this.multiple?"ranking"==this.routName?(this.compareType="entity",0!==this.treeList.length&&(this.selectList=[this.treeList[0].id])):this.treeList[1].length>0&&(this.selectList=[this.treeList[1].id]):this.$nextTick(function(){0!==e.treeList.length&&(e.selectList=e.treeList[0].id)}),this.cascaderSelectList=[],this.dateValue=[T()().add(-1,"d").toDate(),T()().add(-1,"d").toDate()];var t=T()(new Date).add(-1,"day").format("YYYY-MM-DD");this.dateSelect([t,t],"",1)},selectEntityAction:function(e){var t=this,a=t.treeList.length;if(1==a&&0==t.treeList[0].id)return!1;if("entity"!=this.compareType&&1==a.length)return!1;if(a-e.length==1&&-1!=e.indexOf(0)&&(this.selectAll=0,t.selectList=L.a.filter(e,function(e){return 0!=e})),1==this.selectAll&&-1==e.indexOf(0)&&(this.selectAll=0,t.selectList=[]),0==L.a.last(e)){var i=t.treeList.map(function(e){return e.value});this.selectAll=1,t.selectList=i}},formatCascadeAuthData:function(e){this.cascaderTree=L.a.compact(Object(x["c"])(e,this.$store.state.user.role_id,this.$store.state.user.checklist)),"dwellText"===this.typeText?this.cascaderTree.forEach(function(e){e.children.forEach(function(e){L.a.remove(e.children,function(e){return"gate"==e.itype})})}):"sales"===this.typeText&&this.cascaderTree.forEach(function(e){delete e.children});var t=L.a.cloneDeep(this.$store.state.user.business_zone_privilege);if(""===t)return!1;var a=t.filter(function(e){return 3===e.length}),i=L.a.uniqBy(a.map(function(e){return e=L.a.cloneDeep(e),e.pop(),e}),r.a),s=L.a.differenceWith(i,t,L.a.isEqual),n=s.map(function(e){return e=L.a.cloneDeep(e),e.shift(),e[0]}),c=L.a.uniqBy(t.map(function(e){return e=L.a.cloneDeep(e),[e.shift()]}),r.a),l=L.a.differenceWith(c,t,L.a.isEqual).flat(),o=n.concat(l);function d(e){e&&o.includes(e.id)&&(e.disabled="disabled")}if(Object(x["a"])(this.cascaderTree,"children",d),this.cascaderTree[0]){var u=this.cascaderTree[0].id,h=this.cascaderTree[0].children&&this.cascaderTree[0].children[0]&&this.cascaderTree[0].children[0].id,f=this.cascaderTree[0].children&&this.cascaderTree[0].children[0]&&this.cascaderTree[0].children[0].children&&this.cascaderTree[0].children[0].children[0]&&this.cascaderTree[0].children[0].children[0].id;this.cascaderSelectList=this.multiple?[L.a.compact([u,h,f])]:L.a.compact([u,h,f]),this.$forceUpdate()}}}},S=k,_=(a("ca2d"),a("2877")),C=Object(_["a"])(S,i,s,!1,null,null,null);t["a"]=C.exports},f499:function(e,t,a){e.exports=a("a21f")}}]);